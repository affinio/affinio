{
  "name": "affino-monorepo",
  "private": true,
  "version": "1.0.0",
  "packageManager": "pnpm@10.28.1",
  "engines": {
    "node": "^20.19.0 || >=22.12.0"
  },
  "workspaces": [
    "packages/*",
    "demo-vue",
    "demo-laravel",
    "docs-site"
  ],
  "scripts": {
    "bootstrap": "node ./scripts/bootstrap.mjs",
    "build": "pnpm -r --if-present build",
    "type-check": "pnpm -r --if-present type-check",
    "lint": "pnpm -r --if-present lint",
    "format": "pnpm -r --if-present format",
    "test": "pnpm -r --if-present test",
    "test:vue-matrix": "pnpm --filter @affino/dialog-vue test && pnpm --filter @affino/menu-vue test && pnpm --filter @affino/popover-vue test && pnpm --filter @affino/tooltip-vue test && pnpm --filter @affino/selection-vue test && pnpm --filter @affino/grid-selection-vue test && pnpm --filter @affino/treeview-vue test && pnpm --filter @affino/vue-adapter test",
    "test:unit": "pnpm -r --if-present test",
    "test:datagrid:unit": "pnpm --filter @affino/datagrid-core test:unit && pnpm --filter @affino/datagrid-vue test:unit",
    "test:datagrid:integration": "pnpm --filter @affino/datagrid-core test:integration && pnpm --filter @affino/datagrid-vue test:integration",
    "test:datagrid:contracts": "pnpm --filter @affino/datagrid-core test:contracts && pnpm --filter @affino/datagrid-vue test:contracts",
    "test:datagrid:regressions": "pnpm --filter @affino/datagrid-core test:regressions",
    "test:datagrid:strict-contracts": "pnpm --filter @affino/datagrid-core test:strict-contracts && pnpm --filter @affino/datagrid-vue test:strict-contracts",
    "test:datagrid:coverage": "pnpm --filter @affino/datagrid-core test:coverage && pnpm --filter @affino/datagrid-vue test:coverage",
    "test:e2e:critical": "playwright test tests/e2e/selection.spec.ts tests/e2e/virtualization.spec.ts tests/e2e/datagrid.regression.spec.ts tests/e2e/datagrid.interactions.spec.ts tests/e2e/laravel-dialog-teleport.spec.ts tests/e2e/laravel-listbox-combobox.spec.ts tests/e2e/menu.spec.ts",
    "test:matrix:unit": "pnpm run test:datagrid:unit",
    "test:matrix:integration": "pnpm run test:datagrid:integration",
    "test:matrix:interaction": "PLAYWRIGHT_JSON_OUTPUT=playwright-report/results.json PLAYWRIGHT_FLAKE_SUMMARY=artifacts/playwright-flake-summary.json pnpm run test:e2e; E2E_STATUS=$?; node ./scripts/check-playwright-flakes.mjs; FLAKE_STATUS=$?; test $E2E_STATUS -eq 0 -a $FLAKE_STATUS -eq 0",
    "test:matrix:visual": "pnpm --filter @affino/visual-workbench test:visual",
    "test:e2e": "playwright test",
    "docs:build": "pnpm --dir docs-site build",
    "check": "pnpm run lint && pnpm run type-check && pnpm run test",
    "quality:gates:datagrid": "pnpm run test:datagrid:coverage && PLAYWRIGHT_JSON_OUTPUT=playwright-report/results.json PLAYWRIGHT_FLAKE_SUMMARY=artifacts/playwright-flake-summary.json pnpm run test:e2e:critical && node ./scripts/check-playwright-flakes.mjs",
    "quality:architecture:datagrid": "node ./scripts/check-datagrid-architecture-acceptance.mjs",
    "quality:perf:datagrid": "node ./scripts/check-datagrid-perf-contracts.mjs",
    "quality:lock:datagrid": "pnpm run quality:architecture:datagrid && pnpm run quality:perf:datagrid && pnpm run test:datagrid:strict-contracts && pnpm run quality:gates:datagrid",
    "codemod:datagrid:public-protocol": "node ./scripts/codemods/datagrid-public-protocol-codemod.mjs",
    "changeset": "changeset",
    "changeset:status": "changeset status --output /tmp/changeset-status.json",
    "scaffold:adapter-triad": "node ./scripts/scaffold-adapter-triad.mjs",
    "bench:laravel-morph": "node ./scripts/bench-livewire-morph.mjs",
    "bench:laravel-morph:assert": "PERF_BUDGET_TOTAL_MS=3400 PERF_BUDGET_MAX_HYDRATE_RATE_PCT=25 PERF_BUDGET_MAX_BOOTSTRAP_MS=12 PERF_BUDGET_MAX_OPEN_CLOSE_MS=2 node ./scripts/bench-livewire-morph.mjs",
    "bench:vue-adapters": "node ./scripts/bench-vue-adapters.mjs",
    "bench:vue-adapters:assert": "PERF_BUDGET_TOTAL_MS=1400 PERF_BUDGET_MAX_BOOTSTRAP_MS=8 PERF_BUDGET_MAX_CONTROLLER_MS=30 PERF_BUDGET_MAX_RELAYOUT_MS=6 node ./scripts/bench-vue-adapters.mjs",
    "bench:datagrid:interactions": "node ./scripts/bench-datagrid-interactions.mjs",
    "bench:datagrid:interactions:assert": "BENCH_SEEDS=1337,7331,2026 PERF_BUDGET_TOTAL_MS=3500 PERF_BUDGET_MAX_SELECTION_DRAG_P95_MS=5 PERF_BUDGET_MAX_SELECTION_DRAG_P99_MS=8 PERF_BUDGET_MAX_FILL_APPLY_P95_MS=8 PERF_BUDGET_MAX_FILL_APPLY_P99_MS=14 PERF_BUDGET_MAX_VARIANCE_PCT=25 PERF_BUDGET_MAX_HEAP_DELTA_MB=80 node ./scripts/bench-datagrid-interactions.mjs",
    "bench:datagrid:rowmodels": "node --experimental-specifier-resolution=node ./scripts/bench-datagrid-rowmodels.mjs",
    "bench:datagrid:rowmodels:assert": "BENCH_SEEDS=1337,7331,2026 PERF_BUDGET_TOTAL_MS=9000 PERF_BUDGET_MAX_CLIENT_RANGE_P95_MS=5 PERF_BUDGET_MAX_CLIENT_RANGE_P99_MS=8 PERF_BUDGET_MAX_SERVER_RANGE_P95_MS=35 PERF_BUDGET_MAX_SERVER_RANGE_P99_MS=55 PERF_BUDGET_MAX_WINDOW_SHIFT_P95_MS=10 PERF_BUDGET_MAX_WINDOW_SHIFT_P99_MS=16 PERF_BUDGET_MAX_VARIANCE_PCT=25 PERF_BUDGET_MAX_HEAP_DELTA_MB=140 node --experimental-specifier-resolution=node ./scripts/bench-datagrid-rowmodels.mjs",
    "bench:datagrid:harness": "DATAGRID_BENCH_MODE=local node --experimental-specifier-resolution=node ./scripts/bench-datagrid-harness.mjs",
    "bench:datagrid:harness:ci": "DATAGRID_BENCH_MODE=ci node --experimental-specifier-resolution=node ./scripts/bench-datagrid-harness.mjs",
    "bench:datagrid:harness:ci:gate": "pnpm run bench:datagrid:harness:ci && node ./scripts/check-datagrid-benchmark-report.mjs",
    "bench:regression": "pnpm run bench:datagrid:harness:ci:gate",
    "quality:max": "node ./scripts/quality-max-pipeline.mjs"
  },
  "devDependencies": {
    "@changesets/cli": "^2.27.11",
    "@playwright/test": "^1.48.2",
    "@vue/tsconfig": "^0.8.1",
    "@testing-library/vue": "^8.1.0",
    "@types/node": "^24.10.4",
    "@vitejs/plugin-vue": "^6.0.3",
    "@vitest/coverage-v8": "^4.0.15",
    "@vue/test-utils": "^2.4.6",
    "jsdom": "^27.3.0",
    "typescript": "^5.9.3",
    "vite": "^7.2.7",
    "vitest": "^4.0.15",
    "vue": "^3.4.0",
    "vue-tsc": "^3.1.8"
  },
  "pnpm": {
    "overrides": {
      "braces": "^3.0.3",
      "preact": "^10.28.2",
      "micromatch": "^4.0.8",
      "esbuild": "^0.25.0"
    }
  }
}
