:root {
  --ui-menu-bg: #ffffff;
  --ui-menu-border: #dddddd;
  --ui-menu-hover-bg: #f3f3f3;
  --ui-menu-text: #1f1f1f;
  --ui-submenu-trigger-text: #1f1f1f;
  --ui-menu-muted: #6b6b6b;
  --ui-menu-min-width: 180px;
  --ui-menu-max-width: 360px;
  --ui-menu-radius: 8px;
  --ui-menu-shadow: 0 4px 8px rgba(15, 23, 42, 0.12);
  --ui-menu-padding-y: 0.35rem;
  --ui-menu-padding-x: 0.35rem;
  --ui-menu-item-radius: 6px;
  --ui-menu-separator: #e5e5e5;
  --ui-menu-danger: #d32f2f;
  --ui-menu-focus-ring: 0 0 0 2px rgba(65, 105, 225, 0.45);
  --ui-menu-submenu-indicator: #8c8c8c;
}

.dark {
  --ui-menu-bg: #1f1f1f;
  --ui-menu-text: #f3f3f3;
  --ui-submenu-trigger-text: #f3f3f3;
  --ui-menu-hover-bg: #2b2b2b;
  --ui-menu-border: #333333;
  --ui-menu-muted: #9a9a9a;
  --ui-menu-danger: #ff6b6b;
  --ui-menu-separator: #3d3d3d;
  --ui-menu-submenu-indicator: #bbbbbb;
}

.ui-menu {
  position: relative;
  display: contents;
  font-family: inherit;
}

.ui-menu-trigger {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.375rem 0.65rem;
  border-radius: var(--ui-menu-radius, 8px);
  cursor: default;
  user-select: none;
  color: inherit;
  background: transparent;
}

.ui-menu-trigger:focus-visible {
  outline: none;
  box-shadow: var(--ui-menu-focus-ring);
}

.ui-menu-content {
  position: absolute;
  min-width: var(--ui-menu-min-width, 180px);
  max-width: var(--ui-menu-max-width, 360px);
  width: max-content;
  padding: var(--ui-menu-padding-y) var(--ui-menu-padding-x);
  background: var(--ui-menu-bg, #fff);
  border: 1px solid var(--ui-menu-border, #ddd);
  border-radius: var(--ui-menu-radius, 8px);
  box-shadow: var(--ui-menu-shadow, 0 5px 20px rgba(0,0,0,0.15));
  outline: none;
  z-index: 999;
  max-height: var(--ui-menu-max-height, calc(100vh - 16px));
  overflow-y: auto;
}

.ui-menu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  gap: 0.65rem;
  padding: 0.45rem 0.9rem;
  font-size: 0.92rem;
  color: var(--ui-menu-text, #1f1f1f);
  cursor: default;
  border-radius: var(--ui-menu-item-radius, 6px);
  user-select: none;
}

.ui-menu-item:hover,
.ui-menu-item:focus,
.ui-menu-item:focus-visible {
  background: var(--ui-menu-hover-bg);
}

.ui-menu-item.is-danger {
  color: var(--ui-menu-danger, #c62828);
}

.ui-menu-label {
  padding: 0.35rem 0.9rem 0.2rem;
  font-size: 0.7rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--ui-menu-muted, #777);
  user-select: none;
}

.ui-menu-separator {
  height: 1px;
  margin: 0.35rem 0;
  background: var(--ui-menu-separator, #ececec);
}

.ui-submenu-trigger {
  display: flex;
  align-items: center;
  justify-content: space-between;
  color: var(--ui-submenu-trigger-text, #1f1f1f);
  gap: 0.65rem;
  padding: 0.45rem 0.9rem;
  border-radius: var(--ui-menu-item-radius, 6px);
  cursor: default;
  user-select: none;
  outline: none;
}

.ui-menu-item,
.ui-submenu-trigger {
  width: 100%;
  box-sizing: border-box;
}

.ui-menu-item:focus,
.ui-menu-item:focus-visible,
.ui-submenu-trigger:focus,
.ui-submenu-trigger:focus-visible {
  outline: none;
}

.ui-submenu-trigger:hover,
.ui-submenu-trigger:focus,
.ui-submenu-trigger:focus-visible {
  background: var(--ui-menu-hover-bg);
}

.ui-submenu-arrow {
  font-size: 0.75rem;
  color: var(--ui-menu-submenu-indicator, #8c8c8c);
}

.ui-submenu-content {
  position: absolute;
  min-width: var(--ui-menu-min-width, 180px);
  max-width: var(--ui-menu-max-width, 360px);
  width: max-content;
  white-space: nowrap;
  text-overflow: ellipsis;
  padding: var(--ui-menu-padding-y) var(--ui-menu-padding-x);
  background: var(--ui-menu-bg, #fff);
  border: 1px solid var(--ui-menu-border, #ddd);
  border-radius: var(--ui-menu-radius, 8px);
  box-shadow: var(--ui-menu-shadow, 0 5px 20px rgba(0,0,0,0.15));
  outline: none;
  z-index: 1000;
  max-height: calc(100vh - 16px);
  overflow-y: auto;
}

@media (max-width: 480px) {
  .ui-menu-content {
    max-width: 260px;
    min-width: 150px;
  }
}
