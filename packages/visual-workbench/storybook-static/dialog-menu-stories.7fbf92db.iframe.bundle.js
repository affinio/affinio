"use strict";(self.webpackChunk_affino_visual_workbench=self.webpackChunk_affino_visual_workbench||[]).push([[205],{"../../node_modules/.pnpm/css-loader@6.11.0_webpack@5.104.1_esbuild@0.24.2_/node_modules/css-loader/dist/cjs.js??clonedRuleSet-8.use[1]!../menu-vue/src/styles.css"(module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_pnpm_css_loader_6_11_0_webpack_5_104_1_esbuild_0_24_2_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/.pnpm/css-loader@6.11.0_webpack@5.104.1_esbuild@0.24.2_/node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_pnpm_css_loader_6_11_0_webpack_5_104_1_esbuild_0_24_2_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_104_1_esbuild_0_24_2_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_pnpm_css_loader_6_11_0_webpack_5_104_1_esbuild_0_24_2_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/.pnpm/css-loader@6.11.0_webpack@5.104.1_esbuild@0.24.2_/node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_pnpm_css_loader_6_11_0_webpack_5_104_1_esbuild_0_24_2_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_pnpm_css_loader_6_11_0_webpack_5_104_1_esbuild_0_24_2_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,":root {\n  --ui-menu-bg: #ffffff;\n  --ui-menu-border: #dddddd;\n  --ui-menu-hover-bg: #f3f3f3;\n  --ui-menu-text: #1f1f1f;\n  --ui-submenu-trigger-text: #1f1f1f;\n  --ui-menu-muted: #6b6b6b;\n  --ui-menu-min-width: 180px;\n  --ui-menu-max-width: 360px;\n  --ui-menu-radius: 8px;\n  --ui-menu-shadow: 0 4px 8px rgba(15, 23, 42, 0.12);\n  --ui-menu-padding-y: 0.35rem;\n  --ui-menu-padding-x: 0.35rem;\n  --ui-menu-item-radius: 6px;\n  --ui-menu-separator: #e5e5e5;\n  --ui-menu-danger: #d32f2f;\n  --ui-menu-focus-ring: 0 0 0 2px rgba(65, 105, 225, 0.45);\n  --ui-menu-submenu-indicator: #8c8c8c;\n}\n\n.dark {\n  --ui-menu-bg: #1f1f1f;\n  --ui-menu-text: #f3f3f3;\n  --ui-submenu-trigger-text: #f3f3f3;\n  --ui-menu-hover-bg: #2b2b2b;\n  --ui-menu-border: #333333;\n  --ui-menu-muted: #9a9a9a;\n  --ui-menu-danger: #ff6b6b;\n  --ui-menu-separator: #3d3d3d;\n  --ui-menu-submenu-indicator: #bbbbbb;\n}\n\n.ui-menu {\n  position: relative;\n  display: contents;\n  font-family: inherit;\n}\n\n.ui-menu-trigger {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.375rem 0.65rem;\n  border-radius: var(--ui-menu-radius, 8px);\n  cursor: default;\n  user-select: none;\n  color: inherit;\n  background: transparent;\n}\n\n.ui-menu-trigger:focus-visible {\n  outline: none;\n  box-shadow: var(--ui-menu-focus-ring);\n}\n\n.ui-menu-content {\n  position: absolute;\n  min-width: var(--ui-menu-min-width, 180px);\n  max-width: var(--ui-menu-max-width, 360px);\n  width: max-content;\n  padding: var(--ui-menu-padding-y) var(--ui-menu-padding-x);\n  background: var(--ui-menu-bg, #fff);\n  border: 1px solid var(--ui-menu-border, #ddd);\n  border-radius: var(--ui-menu-radius, 8px);\n  box-shadow: var(--ui-menu-shadow, 0 5px 20px rgba(0,0,0,0.15));\n  outline: none;\n  z-index: 999;\n  max-height: var(--ui-menu-max-height, calc(100vh - 16px));\n  overflow-y: auto;\n}\n\n.ui-menu-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  gap: 0.65rem;\n  padding: 0.45rem 0.9rem;\n  font-size: 0.92rem;\n  color: var(--ui-menu-text, #1f1f1f);\n  cursor: default;\n  border-radius: var(--ui-menu-item-radius, 6px);\n  user-select: none;\n}\n\n.ui-menu-item:hover,\n.ui-menu-item:focus,\n.ui-menu-item:focus-visible {\n  background: var(--ui-menu-hover-bg);\n}\n\n.ui-menu-item.is-danger {\n  color: var(--ui-menu-danger, #c62828);\n}\n\n.ui-menu-label {\n  padding: 0.35rem 0.9rem 0.2rem;\n  font-size: 0.7rem;\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n  color: var(--ui-menu-muted, #777);\n  user-select: none;\n}\n\n.ui-menu-separator {\n  height: 1px;\n  margin: 0.35rem 0;\n  background: var(--ui-menu-separator, #ececec);\n}\n\n.ui-submenu-trigger {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: var(--ui-submenu-trigger-text, #1f1f1f);\n  gap: 0.65rem;\n  padding: 0.45rem 0.9rem;\n  border-radius: var(--ui-menu-item-radius, 6px);\n  cursor: default;\n  user-select: none;\n  outline: none;\n}\n\n.ui-menu-item,\n.ui-submenu-trigger {\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.ui-menu-item:focus,\n.ui-menu-item:focus-visible,\n.ui-submenu-trigger:focus,\n.ui-submenu-trigger:focus-visible {\n  outline: none;\n}\n\n.ui-submenu-trigger:hover,\n.ui-submenu-trigger:focus,\n.ui-submenu-trigger:focus-visible {\n  background: var(--ui-menu-hover-bg);\n}\n\n.ui-submenu-arrow {\n  font-size: 0.75rem;\n  color: var(--ui-menu-submenu-indicator, #8c8c8c);\n}\n\n.ui-submenu-content {\n  position: absolute;\n  min-width: var(--ui-menu-min-width, 180px);\n  max-width: var(--ui-menu-max-width, 360px);\n  width: max-content;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  padding: var(--ui-menu-padding-y) var(--ui-menu-padding-x);\n  background: var(--ui-menu-bg, #fff);\n  border: 1px solid var(--ui-menu-border, #ddd);\n  border-radius: var(--ui-menu-radius, 8px);\n  box-shadow: var(--ui-menu-shadow, 0 5px 20px rgba(0,0,0,0.15));\n  outline: none;\n  z-index: 1000;\n  max-height: calc(100vh - 16px);\n  overflow-y: auto;\n}\n\n@media (max-width: 480px) {\n  .ui-menu-content {\n    max-width: 260px;\n    min-width: 150px;\n  }\n}\n","",{version:3,sources:["webpack://./../menu-vue/src/styles.css"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,yBAAyB;EACzB,2BAA2B;EAC3B,uBAAuB;EACvB,kCAAkC;EAClC,wBAAwB;EACxB,0BAA0B;EAC1B,0BAA0B;EAC1B,qBAAqB;EACrB,kDAAkD;EAClD,4BAA4B;EAC5B,4BAA4B;EAC5B,0BAA0B;EAC1B,4BAA4B;EAC5B,yBAAyB;EACzB,wDAAwD;EACxD,oCAAoC;AACtC;;AAEA;EACE,qBAAqB;EACrB,uBAAuB;EACvB,kCAAkC;EAClC,2BAA2B;EAC3B,yBAAyB;EACzB,wBAAwB;EACxB,yBAAyB;EACzB,4BAA4B;EAC5B,oCAAoC;AACtC;;AAEA;EACE,kBAAkB;EAClB,iBAAiB;EACjB,oBAAoB;AACtB;;AAEA;EACE,oBAAoB;EACpB,mBAAmB;EACnB,YAAY;EACZ,yBAAyB;EACzB,yCAAyC;EACzC,eAAe;EACf,iBAAiB;EACjB,cAAc;EACd,uBAAuB;AACzB;;AAEA;EACE,aAAa;EACb,qCAAqC;AACvC;;AAEA;EACE,kBAAkB;EAClB,0CAA0C;EAC1C,0CAA0C;EAC1C,kBAAkB;EAClB,0DAA0D;EAC1D,mCAAmC;EACnC,6CAA6C;EAC7C,yCAAyC;EACzC,8DAA8D;EAC9D,aAAa;EACb,YAAY;EACZ,yDAAyD;EACzD,gBAAgB;AAClB;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,mBAAmB;EACnB,uBAAuB;EACvB,gBAAgB;EAChB,YAAY;EACZ,uBAAuB;EACvB,kBAAkB;EAClB,mCAAmC;EACnC,eAAe;EACf,8CAA8C;EAC9C,iBAAiB;AACnB;;AAEA;;;EAGE,mCAAmC;AACrC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,8BAA8B;EAC9B,iBAAiB;EACjB,yBAAyB;EACzB,sBAAsB;EACtB,iCAAiC;EACjC,iBAAiB;AACnB;;AAEA;EACE,WAAW;EACX,iBAAiB;EACjB,6CAA6C;AAC/C;;AAEA;EACE,aAAa;EACb,mBAAmB;EACnB,8BAA8B;EAC9B,8CAA8C;EAC9C,YAAY;EACZ,uBAAuB;EACvB,8CAA8C;EAC9C,eAAe;EACf,iBAAiB;EACjB,aAAa;AACf;;AAEA;;EAEE,WAAW;EACX,sBAAsB;AACxB;;AAEA;;;;EAIE,aAAa;AACf;;AAEA;;;EAGE,mCAAmC;AACrC;;AAEA;EACE,kBAAkB;EAClB,gDAAgD;AAClD;;AAEA;EACE,kBAAkB;EAClB,0CAA0C;EAC1C,0CAA0C;EAC1C,kBAAkB;EAClB,mBAAmB;EACnB,uBAAuB;EACvB,0DAA0D;EAC1D,mCAAmC;EACnC,6CAA6C;EAC7C,yCAAyC;EACzC,8DAA8D;EAC9D,aAAa;EACb,aAAa;EACb,8BAA8B;EAC9B,gBAAgB;AAClB;;AAEA;EACE;IACE,gBAAgB;IAChB,gBAAgB;EAClB;AACF",sourcesContent:[":root {\n  --ui-menu-bg: #ffffff;\n  --ui-menu-border: #dddddd;\n  --ui-menu-hover-bg: #f3f3f3;\n  --ui-menu-text: #1f1f1f;\n  --ui-submenu-trigger-text: #1f1f1f;\n  --ui-menu-muted: #6b6b6b;\n  --ui-menu-min-width: 180px;\n  --ui-menu-max-width: 360px;\n  --ui-menu-radius: 8px;\n  --ui-menu-shadow: 0 4px 8px rgba(15, 23, 42, 0.12);\n  --ui-menu-padding-y: 0.35rem;\n  --ui-menu-padding-x: 0.35rem;\n  --ui-menu-item-radius: 6px;\n  --ui-menu-separator: #e5e5e5;\n  --ui-menu-danger: #d32f2f;\n  --ui-menu-focus-ring: 0 0 0 2px rgba(65, 105, 225, 0.45);\n  --ui-menu-submenu-indicator: #8c8c8c;\n}\n\n.dark {\n  --ui-menu-bg: #1f1f1f;\n  --ui-menu-text: #f3f3f3;\n  --ui-submenu-trigger-text: #f3f3f3;\n  --ui-menu-hover-bg: #2b2b2b;\n  --ui-menu-border: #333333;\n  --ui-menu-muted: #9a9a9a;\n  --ui-menu-danger: #ff6b6b;\n  --ui-menu-separator: #3d3d3d;\n  --ui-menu-submenu-indicator: #bbbbbb;\n}\n\n.ui-menu {\n  position: relative;\n  display: contents;\n  font-family: inherit;\n}\n\n.ui-menu-trigger {\n  display: inline-flex;\n  align-items: center;\n  gap: 0.25rem;\n  padding: 0.375rem 0.65rem;\n  border-radius: var(--ui-menu-radius, 8px);\n  cursor: default;\n  user-select: none;\n  color: inherit;\n  background: transparent;\n}\n\n.ui-menu-trigger:focus-visible {\n  outline: none;\n  box-shadow: var(--ui-menu-focus-ring);\n}\n\n.ui-menu-content {\n  position: absolute;\n  min-width: var(--ui-menu-min-width, 180px);\n  max-width: var(--ui-menu-max-width, 360px);\n  width: max-content;\n  padding: var(--ui-menu-padding-y) var(--ui-menu-padding-x);\n  background: var(--ui-menu-bg, #fff);\n  border: 1px solid var(--ui-menu-border, #ddd);\n  border-radius: var(--ui-menu-radius, 8px);\n  box-shadow: var(--ui-menu-shadow, 0 5px 20px rgba(0,0,0,0.15));\n  outline: none;\n  z-index: 999;\n  max-height: var(--ui-menu-max-height, calc(100vh - 16px));\n  overflow-y: auto;\n}\n\n.ui-menu-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  gap: 0.65rem;\n  padding: 0.45rem 0.9rem;\n  font-size: 0.92rem;\n  color: var(--ui-menu-text, #1f1f1f);\n  cursor: default;\n  border-radius: var(--ui-menu-item-radius, 6px);\n  user-select: none;\n}\n\n.ui-menu-item:hover,\n.ui-menu-item:focus,\n.ui-menu-item:focus-visible {\n  background: var(--ui-menu-hover-bg);\n}\n\n.ui-menu-item.is-danger {\n  color: var(--ui-menu-danger, #c62828);\n}\n\n.ui-menu-label {\n  padding: 0.35rem 0.9rem 0.2rem;\n  font-size: 0.7rem;\n  text-transform: uppercase;\n  letter-spacing: 0.08em;\n  color: var(--ui-menu-muted, #777);\n  user-select: none;\n}\n\n.ui-menu-separator {\n  height: 1px;\n  margin: 0.35rem 0;\n  background: var(--ui-menu-separator, #ececec);\n}\n\n.ui-submenu-trigger {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: var(--ui-submenu-trigger-text, #1f1f1f);\n  gap: 0.65rem;\n  padding: 0.45rem 0.9rem;\n  border-radius: var(--ui-menu-item-radius, 6px);\n  cursor: default;\n  user-select: none;\n  outline: none;\n}\n\n.ui-menu-item,\n.ui-submenu-trigger {\n  width: 100%;\n  box-sizing: border-box;\n}\n\n.ui-menu-item:focus,\n.ui-menu-item:focus-visible,\n.ui-submenu-trigger:focus,\n.ui-submenu-trigger:focus-visible {\n  outline: none;\n}\n\n.ui-submenu-trigger:hover,\n.ui-submenu-trigger:focus,\n.ui-submenu-trigger:focus-visible {\n  background: var(--ui-menu-hover-bg);\n}\n\n.ui-submenu-arrow {\n  font-size: 0.75rem;\n  color: var(--ui-menu-submenu-indicator, #8c8c8c);\n}\n\n.ui-submenu-content {\n  position: absolute;\n  min-width: var(--ui-menu-min-width, 180px);\n  max-width: var(--ui-menu-max-width, 360px);\n  width: max-content;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  padding: var(--ui-menu-padding-y) var(--ui-menu-padding-x);\n  background: var(--ui-menu-bg, #fff);\n  border: 1px solid var(--ui-menu-border, #ddd);\n  border-radius: var(--ui-menu-radius, 8px);\n  box-shadow: var(--ui-menu-shadow, 0 5px 20px rgba(0,0,0,0.15));\n  outline: none;\n  z-index: 1000;\n  max-height: calc(100vh - 16px);\n  overflow-y: auto;\n}\n\n@media (max-width: 480px) {\n  .ui-menu-content {\n    max-width: 260px;\n    min-width: 150px;\n  }\n}\n"],sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"../../node_modules/.pnpm/css-loader@6.11.0_webpack@5.104.1_esbuild@0.24.2_/node_modules/css-loader/dist/runtime/api.js"(module){module.exports=function(cssWithMappingToString){var list=[];return list.toString=function toString(){return this.map(function(item){var content="",needLayer=void 0!==item[5];return item[4]&&(content+="@supports (".concat(item[4],") {")),item[2]&&(content+="@media ".concat(item[2]," {")),needLayer&&(content+="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {")),content+=cssWithMappingToString(item),needLayer&&(content+="}"),item[2]&&(content+="}"),item[4]&&(content+="}"),content}).join("")},list.i=function i(modules,media,dedupe,supports,layer){"string"==typeof modules&&(modules=[[null,modules,void 0]]);var alreadyImportedModules={};if(dedupe)for(var k=0;k<this.length;k++){var id=this[k][0];null!=id&&(alreadyImportedModules[id]=!0)}for(var _k=0;_k<modules.length;_k++){var item=[].concat(modules[_k]);dedupe&&alreadyImportedModules[item[0]]||(void 0!==layer&&(void 0===item[5]||(item[1]="@layer".concat(item[5].length>0?" ".concat(item[5]):""," {").concat(item[1],"}")),item[5]=layer),media&&(item[2]?(item[1]="@media ".concat(item[2]," {").concat(item[1],"}"),item[2]=media):item[2]=media),supports&&(item[4]?(item[1]="@supports (".concat(item[4],") {").concat(item[1],"}"),item[4]=supports):item[4]="".concat(supports)),list.push(item))}},list}},"../../node_modules/.pnpm/css-loader@6.11.0_webpack@5.104.1_esbuild@0.24.2_/node_modules/css-loader/dist/runtime/sourceMaps.js"(module){module.exports=function(item){var content=item[1],cssMapping=item[3];if(!cssMapping)return content;if("function"==typeof btoa){var base64=btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping)))),data="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(base64),sourceMapping="/*# ".concat(data," */");return[content].concat([sourceMapping]).join("\n")}return[content].join("\n")}},"../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"(module){var stylesInDOM=[];function getIndexByIdentifier(identifier){for(var result=-1,i=0;i<stylesInDOM.length;i++)if(stylesInDOM[i].identifier===identifier){result=i;break}return result}function modulesToDom(list,options){for(var idCountMap={},identifiers=[],i=0;i<list.length;i++){var item=list[i],id=options.base?item[0]+options.base:item[0],count=idCountMap[id]||0,identifier="".concat(id," ").concat(count);idCountMap[id]=count+1;var indexByIdentifier=getIndexByIdentifier(identifier),obj={css:item[1],media:item[2],sourceMap:item[3],supports:item[4],layer:item[5]};if(-1!==indexByIdentifier)stylesInDOM[indexByIdentifier].references++,stylesInDOM[indexByIdentifier].updater(obj);else{var updater=addElementStyle(obj,options);options.byIndex=i,stylesInDOM.splice(i,0,{identifier,updater,references:1})}identifiers.push(identifier)}return identifiers}function addElementStyle(obj,options){var api=options.domAPI(options);api.update(obj);return function updater(newObj){if(newObj){if(newObj.css===obj.css&&newObj.media===obj.media&&newObj.sourceMap===obj.sourceMap&&newObj.supports===obj.supports&&newObj.layer===obj.layer)return;api.update(obj=newObj)}else api.remove()}}module.exports=function(list,options){var lastIdentifiers=modulesToDom(list=list||[],options=options||{});return function update(newList){newList=newList||[];for(var i=0;i<lastIdentifiers.length;i++){var index=getIndexByIdentifier(lastIdentifiers[i]);stylesInDOM[index].references--}for(var newLastIdentifiers=modulesToDom(newList,options),_i=0;_i<lastIdentifiers.length;_i++){var _index=getIndexByIdentifier(lastIdentifiers[_i]);0===stylesInDOM[_index].references&&(stylesInDOM[_index].updater(),stylesInDOM.splice(_index,1))}lastIdentifiers=newLastIdentifiers}}},"../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/insertBySelector.js"(module){var memo={};module.exports=function insertBySelector(insert,style){var target=function getTarget(target){if(void 0===memo[target]){var styleTarget=document.querySelector(target);if(window.HTMLIFrameElement&&styleTarget instanceof window.HTMLIFrameElement)try{styleTarget=styleTarget.contentDocument.head}catch(e){styleTarget=null}memo[target]=styleTarget}return memo[target]}(insert);if(!target)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");target.appendChild(style)}},"../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/insertStyleElement.js"(module){module.exports=function insertStyleElement(options){var element=document.createElement("style");return options.setAttributes(element,options.attributes),options.insert(element,options.options),element}},"../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"(module,__unused_webpack_exports,__webpack_require__){module.exports=function setAttributesWithoutAttributes(styleElement){var nonce=__webpack_require__.nc;nonce&&styleElement.setAttribute("nonce",nonce)}},"../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/styleDomAPI.js"(module){module.exports=function domAPI(options){if("undefined"==typeof document)return{update:function update(){},remove:function remove(){}};var styleElement=options.insertStyleElement(options);return{update:function update(obj){!function apply(styleElement,options,obj){var css="";obj.supports&&(css+="@supports (".concat(obj.supports,") {")),obj.media&&(css+="@media ".concat(obj.media," {"));var needLayer=void 0!==obj.layer;needLayer&&(css+="@layer".concat(obj.layer.length>0?" ".concat(obj.layer):""," {")),css+=obj.css,needLayer&&(css+="}"),obj.media&&(css+="}"),obj.supports&&(css+="}");var sourceMap=obj.sourceMap;sourceMap&&"undefined"!=typeof btoa&&(css+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))," */")),options.styleTagTransform(css,styleElement,options.options)}(styleElement,options,obj)},remove:function remove(){!function removeStyleElement(styleElement){if(null===styleElement.parentNode)return!1;styleElement.parentNode.removeChild(styleElement)}(styleElement)}}}},"../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/styleTagTransform.js"(module){module.exports=function styleTagTransform(css,styleElement){if(styleElement.styleSheet)styleElement.styleSheet.cssText=css;else{for(;styleElement.firstChild;)styleElement.removeChild(styleElement.firstChild);styleElement.appendChild(document.createTextNode(css))}}},"../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.25_vue@3.5.25_typescript@5.9.3__webpack@5.104.1_esbuild@0.24.2_/node_modules/vue-loader/dist/exportHelper.js"(__unused_webpack_module,exports){exports.A=(sfc,props)=>{const target=sfc.__vccOpts||sfc;for(const[key,val]of props)target[key]=val;return target}},"./stories/dialog-menu.stories.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{InlineActions:()=>InlineActions,__namedExportsOrder:()=>__namedExportsOrder,default:()=>dialog_menu_stories});var injectStylesIntoStyleTag=__webpack_require__("../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("../../node_modules/.pnpm/style-loader@3.3.4_webpack@5.104.1_esbuild@0.24.2_/node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),styles=__webpack_require__("../../node_modules/.pnpm/css-loader@6.11.0_webpack@5.104.1_esbuild@0.24.2_/node_modules/css-loader/dist/cjs.js??clonedRuleSet-8.use[1]!../menu-vue/src/styles.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(styles.A,options);styles.A&&styles.A.locals&&styles.A.locals;var vue_esm_bundler=__webpack_require__("../../node_modules/.pnpm/vue@3.5.25_typescript@5.9.3/node_modules/vue/dist/vue.esm-bundler.js");function useMenuTreeState(controller){const state=(0,vue_esm_bundler.IJ)({openPath:[],activePath:[]}),tree=controller.core?.getTree?.();let unsubscribe=null;return tree?.subscribe&&(unsubscribe=tree.subscribe(controller.id,snapshot=>{state.value=snapshot})),(0,vue_esm_bundler.xo)(()=>{unsubscribe?.(),unsubscribe=null}),state}const MENU_PROVIDER_KEY=Symbol("ui-menu-provider"),SUBMENU_PROVIDER_KEY=Symbol("ui-submenu-provider");function provideMenuProvider(value){const parent=value.parent??null,controller=value.controller,scope={controller,parentController:value.parentController??parent?.controller??null,rootId:value.rootId??parent?.rootId??controller.id,submenuItemId:value.submenuItemId,parent,tree:{state:useMenuTreeState(controller)}};return(0,vue_esm_bundler.Gt)(MENU_PROVIDER_KEY,scope),scope}function context_useMenuProvider(){const ctx=(0,vue_esm_bundler.WQ)(MENU_PROVIDER_KEY);if(!ctx)throw new Error("Menu components must be used inside <UiMenu>");return ctx}function useOptionalSubmenuProvider(){return(0,vue_esm_bundler.WQ)(SUBMENU_PROVIDER_KEY,null)}class SurfaceEvents{constructor(surfaceId,callbacks={}){Object.defineProperty(this,"surfaceId",{enumerable:!0,configurable:!0,writable:!0,value:surfaceId}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:callbacks})}emitOpen(){var _a,_b;null===(_b=(_a=this.callbacks).onOpen)||void 0===_b||_b.call(_a,this.surfaceId)}emitClose(){var _a,_b;null===(_b=(_a=this.callbacks).onClose)||void 0===_b||_b.call(_a,this.surfaceId)}emitPosition(position){var _a,_b;null===(_b=(_a=this.callbacks).onPositionChange)||void 0===_b||_b.call(_a,this.surfaceId,position)}}class SurfaceTimers{constructor(options){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:options}),Object.defineProperty(this,"openTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"closeTimer",{enumerable:!0,configurable:!0,writable:!0,value:null})}scheduleOpen(callback){this.openTimer&&clearTimeout(this.openTimer),this.openTimer=setTimeout(()=>{this.openTimer=null,callback()},this.options.openDelay)}scheduleClose(callback){this.closeTimer&&clearTimeout(this.closeTimer),this.closeTimer=setTimeout(()=>{this.closeTimer=null,callback()},this.options.closeDelay)}cancelOpen(){this.openTimer&&(clearTimeout(this.openTimer),this.openTimer=null)}cancelClose(){this.closeTimer&&(clearTimeout(this.closeTimer),this.closeTimer=null)}clearAll(){this.cancelOpen(),this.cancelClose()}}class SurfaceStateMachine{constructor(initialOpen=!1){Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state={open:initialOpen}}get snapshot(){return{...this.state}}open(){return this.state.open?{changed:!1,state:this.snapshot}:(this.state={open:!0},{changed:!0,state:this.snapshot})}close(){return this.state.open?(this.state={open:!1},{changed:!0,state:this.snapshot}):{changed:!1,state:this.snapshot}}toggle(){return this.state.open?this.close():this.open()}}const SIDES=["bottom","top","right","left"],ALIGNMENTS=["start","center","end"];function clamp(value,min,max){return min>max?value:Math.min(Math.max(value,min),max)}function sideAxis(side){return"left"===side||"right"===side?"x":"y"}function resolvePosition(anchor,surface,side,alignment,gutter){const axis=sideAxis(side),cross=function crossAxis(side){return"x"===sideAxis(side)?"y":"x"}(side),crossProp="x"===cross?"left":"top",coords={left:0,top:0};"x"===axis?coords.left="right"===side?anchor.x+anchor.width+gutter:anchor.x-surface.width-gutter:coords.top="bottom"===side?anchor.y+anchor.height+gutter:anchor.y-surface.height-gutter;const anchorSize="x"===cross?anchor.width:anchor.height,surfaceSize="x"===cross?surface.width:surface.height;let offset;switch(alignment){case"center":offset=anchorSize/2-surfaceSize/2;break;case"end":offset=anchorSize-surfaceSize;break;default:offset=0}return coords[crossProp]=("x"===cross?anchor.x:anchor.y)+offset,coords}function measureOverflow(left,top,surface,config){const{viewportPadding,viewportWidth,viewportHeight}=config;return Math.max(0,viewportPadding-left)+Math.max(0,viewportPadding-top)+Math.max(0,left+surface.width+viewportPadding-viewportWidth)+Math.max(0,top+surface.height+viewportPadding-viewportHeight)}let idCounter=0;const DEFAULT_OPTIONS={id:"",openDelay:80,closeDelay:150,defaultOpen:!1};class SurfaceCore{constructor(options={},callbacks={}){var _a,_b;Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stateMachine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"subscribers",{enumerable:!0,configurable:!0,writable:!0,value:new Set});const resolvedId=null!==(_a=options.id)&&void 0!==_a?_a:"surface-"+ ++idCounter;this.id=resolvedId,this.options={...DEFAULT_OPTIONS,...options,id:resolvedId,defaultOpen:null!==(_b=options.defaultOpen)&&void 0!==_b?_b:DEFAULT_OPTIONS.defaultOpen},this.callbacks=callbacks,this.events=new SurfaceEvents(this.id,callbacks),this.timers=new SurfaceTimers({openDelay:this.options.openDelay,closeDelay:this.options.closeDelay}),this.stateMachine=new SurfaceStateMachine(this.options.defaultOpen)}destroy(){this.subscribers.clear(),this.timers.clearAll()}getSnapshot(){return this.composeState(this.stateMachine.snapshot)}subscribe(listener){return this.subscribers.add(listener),listener(this.getSnapshot()),{unsubscribe:()=>{this.subscribers.delete(listener)}}}open(reason="programmatic"){this.stateMachine.open().changed&&(this.timers.cancelClose(),this.events.emitOpen(),this.onOpened(reason),this.emitState())}close(reason="programmatic"){this.stateMachine.close().changed&&(this.timers.cancelOpen(),this.events.emitClose(),this.onClosed(reason),this.emitState())}toggle(){const result=this.stateMachine.toggle();result.changed&&(result.state.open?(this.timers.cancelClose(),this.events.emitOpen(),this.onOpened("programmatic")):(this.timers.cancelOpen(),this.events.emitClose(),this.onClosed("programmatic")),this.emitState())}computePosition(anchor,surface,options={}){const position=function computePosition(anchor,surface,options={}){var _a,_b,_c,_d,_e,_f;const config={gutter:null!==(_a=options.gutter)&&void 0!==_a?_a:6,viewportPadding:null!==(_b=options.viewportPadding)&&void 0!==_b?_b:8,placement:null!==(_c=options.placement)&&void 0!==_c?_c:"auto",align:null!==(_d=options.align)&&void 0!==_d?_d:"auto",viewportWidth:null!==(_e=options.viewportWidth)&&void 0!==_e?_e:1e4,viewportHeight:null!==(_f=options.viewportHeight)&&void 0!==_f?_f:1e4},candidateSides="auto"===config.placement?[...SIDES]:[config.placement];let best=null;for(const side of candidateSides){const alignments="auto"===config.align?[...ALIGNMENTS]:[config.align];for(const alignment of alignments){const{left,top}=resolvePosition(anchor,surface,side,alignment,config.gutter),overflow=measureOverflow(left,top,surface,config);if((!best||overflow<best.overflow)&&(best={overflow,left,top,placement:side,align:alignment}),0===overflow&&"auto"!==config.placement&&"auto"!==config.align)break}if(best&&0===best.overflow&&"auto"!==config.placement)break}return best||(best={left:anchor.x,top:anchor.y,placement:"right",align:"start",overflow:Number.POSITIVE_INFINITY}),{left:clamp(best.left,config.viewportPadding,config.viewportWidth-config.viewportPadding-surface.width),top:clamp(best.top,config.viewportPadding,config.viewportHeight-config.viewportPadding-surface.height),placement:best.placement,align:best.align}}(anchor,surface,options);return this.events.emitPosition(position),position}cancelPendingClose(){this.timers.cancelClose()}composeState(surface){return surface}get surfaceState(){return this.stateMachine.snapshot}emitState(){const next=this.getSnapshot();this.subscribers.forEach(listener=>listener(next))}onOpened(_reason){}onClosed(_reason){}handlePointerEnter(_event){this.timers.cancelClose()}shouldIgnorePointerLeave(_event){return!1}handlePointerLeave(event){this.shouldIgnorePointerLeave(event)?this.cancelPendingClose():this.timers.scheduleClose(()=>this.close("pointer"))}}class ItemRegistry{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"orderCursor",{enumerable:!0,configurable:!0,writable:!0,value:0})}register(id,disabled,allowUpdate=!1){const existing=this.items.get(id);if(existing){if(!allowUpdate)throw new Error(`Menu item with id "${id}" is already registered`);return existing.disabled=disabled,{created:!1,disabled:existing.disabled}}return this.items.set(id,{id,disabled,order:this.orderCursor++}),{created:!0,disabled}}unregister(id){return this.items.delete(id)}has(id){return this.items.has(id)}updateDisabled(id,disabled){const entry=this.items.get(id);if(!entry)throw new Error(`Cannot update unknown menu item with id "${id}"`);entry.disabled=disabled}getOrderedItems(){return[...this.items.values()].sort((a,b)=>a.order-b.order)}getEnabledItemIds(){return this.getOrderedItems().filter(entry=>!entry.disabled).map(entry=>entry.id)}isDisabled(id){return this.items.get(id)?.disabled??!1}}class MenuEvents{constructor(menuId,callbacks={}){Object.defineProperty(this,"menuId",{enumerable:!0,configurable:!0,writable:!0,value:menuId}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:callbacks})}emitSelect(itemId){this.callbacks.onSelect?.(itemId,this.menuId)}emitHighlight(itemId){this.callbacks.onHighlight?.(itemId,this.menuId)}}class MenuStateMachine{constructor(options){Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:options}),Object.defineProperty(this,"activeItemId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"pendingInitialHighlight",{enumerable:!0,configurable:!0,writable:!0,value:!1})}get snapshot(){return{activeItemId:this.activeItemId}}reset(){this.pendingInitialHighlight=!1,this.activeItemId=null}highlight(id,enabledItemIds){return id&&!enabledItemIds.includes(id)?{changed:!1,previous:this.activeItemId,current:this.activeItemId}:this.applyHighlight(id)}moveFocus(delta,enabledItemIds){if(!enabledItemIds.length)return{changed:!1,previous:this.activeItemId,current:this.activeItemId};let nextIndex=this.activeItemId?enabledItemIds.indexOf(this.activeItemId):-1;for(let i=0;i<enabledItemIds.length;i+=1){if(nextIndex+=delta,nextIndex>=enabledItemIds.length){if(!this.options.loopFocus)return{changed:!1,previous:this.activeItemId,current:this.activeItemId};nextIndex=0}if(nextIndex<0){if(!this.options.loopFocus)return{changed:!1,previous:this.activeItemId,current:this.activeItemId};nextIndex=enabledItemIds.length-1}const nextId=enabledItemIds[nextIndex];if(null!=nextId)return this.applyHighlight(nextId)}return{changed:!1,previous:this.activeItemId,current:this.activeItemId}}ensureInitialHighlight(enabledItemIds,isOpen){if(!isOpen||this.activeItemId)return{changed:!1,previous:this.activeItemId,current:this.activeItemId};if(!enabledItemIds.length)return this.pendingInitialHighlight=!0,{changed:!1,previous:this.activeItemId,current:this.activeItemId};this.pendingInitialHighlight=!1;const firstId=enabledItemIds[0]??null;return this.applyHighlight(firstId)}handleItemsChanged(enabledItemIds,isOpen){return this.activeItemId&&!enabledItemIds.includes(this.activeItemId)?this.applyHighlight(null):this.pendingInitialHighlight?this.ensureInitialHighlight(enabledItemIds,isOpen):{changed:!1,previous:this.activeItemId,current:this.activeItemId}}handleSelection(isOpen){return isOpen?{accepted:!0,shouldClose:this.options.closeOnSelect}:{accepted:!1,shouldClose:!1}}applyHighlight(target){if(this.activeItemId===target)return{changed:!1,previous:this.activeItemId,current:this.activeItemId};const previous=this.activeItemId;return this.activeItemId=target,{changed:!0,previous,current:target}}}class MenuTree{constructor(rootId){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"listeners",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"itemToMenu",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"openPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"activePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nodes.set(rootId,{id:rootId,parentId:null,parentItemId:null}),this.openPath=[rootId],this.activePath=[rootId]}register(menuId,parentId,parentItemId){if(this.nodes.has(menuId))throw new Error(`Menu with id "${menuId}" is already registered in the tree`);this.nodes.set(menuId,{id:menuId,parentId,parentItemId}),parentItemId&&this.itemToMenu.set(parentItemId,menuId)}unregister(menuId){const node=this.nodes.get(menuId);node&&(this.nodes.delete(menuId),node.parentItemId&&this.itemToMenu.delete(node.parentItemId),this.listeners.delete(menuId),this.openPath=this.openPath.filter(id=>id!==menuId),this.activePath=this.activePath.filter(id=>id!==menuId),this.emit())}subscribe(menuId,listener){const bucket=this.listeners.get(menuId)??new Set;return bucket.add(listener),this.listeners.set(menuId,bucket),listener(this.snapshot),()=>{bucket.delete(listener),0===bucket.size&&this.listeners.delete(menuId)}}updateOpenState(menuId,open){this.openPath=open?this.buildPath(menuId):this.openPath.filter(id=>!this.isDescendantOf(id,menuId)),this.emit()}updateHighlight(menuId,highlightedItemId){if(highlightedItemId){const childMenuId=this.itemToMenu.get(highlightedItemId);if(childMenuId)return this.activePath=this.buildPath(childMenuId),void this.emit()}this.activePath.includes(menuId)&&(this.activePath=this.buildPath(menuId),this.emit())}get snapshot(){return{openPath:[...this.openPath],activePath:[...this.activePath]}}emit(){const snapshot=this.snapshot;for(const listeners of this.listeners.values())for(const listener of listeners)listener(snapshot)}buildPath(menuId){const path=[];let current=this.nodes.get(menuId);for(;current;)path.push(current.id),current=current.parentId?this.nodes.get(current.parentId):void 0;return path.reverse()}isDescendantOf(targetId,ancestorId){if(targetId===ancestorId)return!0;let node=this.nodes.get(targetId);for(;node;){if(node.parentId===ancestorId)return!0;node=node.parentId?this.nodes.get(node.parentId):void 0}return!1}}class MenuCore extends SurfaceCore{constructor(options={},callbacks={},tree,parentLink){super(options,callbacks),Object.defineProperty(this,"registry",{enumerable:!0,configurable:!0,writable:!0,value:new ItemRegistry}),Object.defineProperty(this,"selectionMachine",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"menuOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"menuEvents",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoHighlightOnOpen",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pointerHighlightLock",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"handleTriggerKeydown",{enumerable:!0,configurable:!0,writable:!0,value:event=>{if("Enter"===event.key||" "===event.key)return event.preventDefault(),void this.toggle();if("ArrowDown"===event.key)return event.preventDefault(),this.open("keyboard"),void this.ensureInitialHighlight();if("ArrowUp"===event.key){event.preventDefault(),this.open("keyboard");const enabled=this.registry.getEnabledItemIds();if(enabled.length){const last=enabled[enabled.length-1]??null;this.highlight(last)}}}}),Object.defineProperty(this,"handlePanelKeydown",{enumerable:!0,configurable:!0,writable:!0,value:event=>{if("Escape"===event.key)return event.preventDefault(),void this.close("keyboard");if("ArrowDown"===event.key)return event.preventDefault(),void this.moveFocus(1);if("ArrowUp"===event.key)return event.preventDefault(),void this.moveFocus(-1);if("Home"===event.key){event.preventDefault();const enabled=this.registry.getEnabledItemIds();if(enabled.length){const first=enabled[0]??null;this.highlight(first)}return}if("End"===event.key){event.preventDefault();const enabled=this.registry.getEnabledItemIds();if(enabled.length){const last=enabled[enabled.length-1]??null;this.highlight(last)}return}if("Enter"===event.key||" "===event.key){const active=this.selectionMachine.snapshot.activeItemId;active&&(event.preventDefault(),this.select(active))}}}),this.menuOptions={closeOnSelect:options.closeOnSelect??!0,loopFocus:options.loopFocus??!0,mousePrediction:options.mousePrediction??{}},this.menuEvents=new MenuEvents(this.id,callbacks),this.selectionMachine=new MenuStateMachine({loopFocus:this.menuOptions.loopFocus,closeOnSelect:this.menuOptions.closeOnSelect});const existingTree=Boolean(tree);this.tree=tree??new MenuTree(this.id),(existingTree||parentLink)&&this.tree.register(this.id,parentLink?.parentId??null,parentLink?.parentItemId??null)}destroy(){this.tree.unregister(this.id),this.releasePointerHighlightHold(),super.destroy()}composeState(surface){return{...surface,activeItemId:this.selectionMachine.snapshot.activeItemId}}onOpened(_reason){this.tree.updateOpenState(this.id,!0),this.autoHighlightOnOpen&&this.ensureInitialHighlight()}onClosed(_reason){const before=this.selectionMachine.snapshot.activeItemId;this.tree.updateOpenState(this.id,!1),this.selectionMachine.reset(),null!==before&&this.handleHighlightChange({changed:!0,previous:before,current:null})}registerItem(id,options={}){const disabled=Boolean(options.disabled),allowUpdate=this.registry.has(id);this.registry.register(id,disabled,allowUpdate);const change=this.selectionMachine.handleItemsChanged(this.registry.getEnabledItemIds(),this.surfaceState.open);return this.handleHighlightChange(change)&&this.emitState(),()=>{this.registry.unregister(id);const invalidation=this.selectionMachine.handleItemsChanged(this.registry.getEnabledItemIds(),this.surfaceState.open);this.handleHighlightChange(invalidation)&&this.emitState()}}highlight(id){const change=this.selectionMachine.highlight(id,this.registry.getEnabledItemIds());this.handleHighlightChange(change)&&this.emitState()}moveFocus(delta){const change=this.selectionMachine.moveFocus(delta,this.registry.getEnabledItemIds());this.handleHighlightChange(change)&&this.emitState()}select(id){const{accepted,shouldClose}=this.selectionMachine.handleSelection(this.surfaceState.open);accepted&&(this.menuEvents.emitSelect(id),shouldClose&&this.close("programmatic"))}getTriggerProps(){return{id:`${this.id}-trigger`,role:"button",tabIndex:0,"aria-haspopup":"menu","aria-expanded":this.surfaceState.open,"aria-controls":`${this.id}-panel`,onPointerEnter:event=>{this.handlePointerEnter(event),this.timers.scheduleOpen(()=>this.open("pointer"))},onPointerLeave:event=>this.handlePointerLeave(event),onClick:()=>this.toggle(),onKeyDown:this.handleTriggerKeydown}}getPanelProps(){return{id:`${this.id}-panel`,role:"menu",tabIndex:-1,"aria-labelledby":`${this.id}-trigger`,onKeyDown:this.handlePanelKeydown,onPointerEnter:event=>this.handlePointerEnter(event),onPointerLeave:event=>this.handlePointerLeave(event)}}getItemProps(id){const highlighted=this.selectionMachine.snapshot.activeItemId===id,disabled=this.registry.isDisabled(id);return{id,role:"menuitem",tabIndex:highlighted?0:-1,"aria-disabled":!!disabled||void 0,"data-state":highlighted?"highlighted":"idle",onPointerEnter:()=>{this.pointerHighlightLock&&this.pointerHighlightLock.id!==id&&this.releasePointerHighlightHold(),disabled||this.shouldBlockPointerHighlight(id)||this.highlight(id)},onClick:event=>{disabled?event.preventDefault?.():this.select(id)},onKeyDown:event=>this.handleItemKeydown(event,id,disabled)}}getTree(){return this.tree}isCloseOnSelectEnabled(){return this.menuOptions.closeOnSelect}ensureInitialHighlight(){const change=this.selectionMachine.ensureInitialHighlight(this.registry.getEnabledItemIds(),this.surfaceState.open);this.handleHighlightChange(change)&&this.emitState()}holdPointerHighlight(itemId,duration=this.options.closeDelay){if(this.selectionMachine.snapshot.activeItemId!==itemId)return;if(this.pointerHighlightLock?.id===itemId)return;this.releasePointerHighlightHold();const timer=duration>0?setTimeout(()=>{this.pointerHighlightLock?.id===itemId&&(this.pointerHighlightLock=null)},duration):null;this.pointerHighlightLock={id:itemId,timer}}releasePointerHighlightHold(itemId){this.pointerHighlightLock&&(itemId&&this.pointerHighlightLock.id!==itemId||(this.pointerHighlightLock.timer&&clearTimeout(this.pointerHighlightLock.timer),this.pointerHighlightLock=null))}shouldBlockPointerHighlight(targetId){return Boolean(this.pointerHighlightLock&&this.pointerHighlightLock.id!==targetId)}handlePointerEnter(event){event?.meta?.isWithinTree?this.cancelPendingClose():this.timers.cancelClose()}shouldIgnorePointerLeave(event){const meta=event?.meta;return!!meta&&(!!meta.isWithinTree||(!!meta.enteredChildPanel||!!meta.isInsidePanel))}handleHighlightChange(change){return!!change.changed&&(this.menuEvents.emitHighlight(change.current),this.tree.updateHighlight(this.id,change.current),!0)}handleItemKeydown(event,id,disabled){if(!disabled)return"Enter"===event.key||" "===event.key?(event.preventDefault(),void this.select(id)):"ArrowUp"===event.key?(event.preventDefault(),void this.moveFocus(-1)):void("ArrowDown"===event.key&&(event.preventDefault(),this.moveFocus(1)));"Enter"!==event.key&&" "!==event.key||event.preventDefault()}}function subtract(a,b){return{x:a.x-b.x,y:a.y-b.y}}function magnitude(vector){return Math.sqrt(vector.x*vector.x+vector.y*vector.y)}function center(rect){return{x:rect.x+rect.width/2,y:rect.y+rect.height/2}}const DEFAULT_CONFIG={history:8,verticalTolerance:48,headingThreshold:.2,samplingOffset:2,horizontalThreshold:6,driftBias:.4};class MousePrediction{constructor(config){Object.defineProperty(this,"points",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"debugListener",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.config={...DEFAULT_CONFIG,...config}}push(point){const time=point.time??("undefined"!=typeof performance?performance.now():Date.now());this.points.push({...point,time}),this.points.length>this.config.history&&this.points.shift()}clear(){this.points.length=0}enableDebug(callback){this.debugListener=callback??null}isMovingToward(target,origin){if(this.points.length<2)return!1;const last=this.points[this.points.length-1];if(!last)return!1;const sampleIndex=Math.max(0,this.points.length-1-this.config.samplingOffset),sample=this.points[sampleIndex];if(!sample)return!1;const movement=subtract(last,sample),movementMagnitude=magnitude(movement);if(0===movementMagnitude)return!1;const originCenter=center(origin),targetCenter=center(target),toTarget=subtract(targetCenter,last),targetMagnitude=magnitude(toTarget),headingScore=0===targetMagnitude?1:function dotProduct(a,b){return a.x*b.x+a.y*b.y}(movement,toTarget)/(movementMagnitude*targetMagnitude),orientation=function determineOrientation(target,origin){const opensRight=target.x>=origin.x+origin.width,opensLeft=target.x+target.width<=origin.x;if(opensRight||opensLeft)return"horizontal";const opensDown=target.y>=origin.y+origin.height,opensUp=target.y+target.height<=origin.y;if(opensDown||opensUp)return"vertical";const originCenter=center(origin),targetCenter=center(target);return Math.abs(targetCenter.x-originCenter.x)>=Math.abs(targetCenter.y-originCenter.y)?"horizontal":"vertical"}(target,origin),horizontalDirection=determineDirection("horizontal",target,origin,targetCenter,originCenter),verticalDirection=determineDirection("vertical",target,origin,targetCenter,originCenter),withinCorridor=function isWithinCorridor(args){const{orientation,point,target,origin,tolerance}=args;if("horizontal"===orientation){const minY=Math.min(origin.y,target.y)-tolerance,maxY=Math.max(origin.y+origin.height,target.y+target.height)+tolerance;return point.y>=minY&&point.y<=maxY}const minX=Math.min(origin.x,target.x)-tolerance,maxX=Math.max(origin.x+origin.width,target.x+target.width)+tolerance;return point.x>=minX&&point.x<=maxX}({orientation,point:last,target,origin,tolerance:this.config.verticalTolerance}),forwardProgress=function computeForwardProgress(args){const{orientation,point,origin,horizontalDirection,verticalDirection}=args;if("horizontal"===orientation)return 1===horizontalDirection?point.x-origin.x-origin.width:origin.x-point.x;return 1===verticalDirection?point.y-origin.y-origin.height:origin.y-point.y}({orientation,point:last,origin,horizontalDirection,verticalDirection}),driftBias=function appliesDriftBias(args){const{orientation,movement,driftBias}=args;if("horizontal"===orientation)return Math.abs(movement.x)>Math.abs(movement.y)*driftBias;return Math.abs(movement.y)>Math.abs(movement.x)*driftBias}({orientation,movement,driftBias:this.config.driftBias}),headingSatisfied=headingScore>this.config.headingThreshold,progressSatisfied=forwardProgress>=-this.config.horizontalThreshold,result=withinCorridor&&(headingSatisfied||progressSatisfied||driftBias);return this.debugListener?.({points:[...this.points],target,origin,headingScore,orientation,withinCorridor,forwardProgress}),result}}function determineDirection(axis,target,origin,targetCenter,originCenter){return"horizontal"===axis?target.x>=origin.x+origin.width?1:target.x+target.width<=origin.x?-1:targetCenter.x>=originCenter.x?1:-1:target.y>=origin.y+origin.height?1:target.y+target.height<=origin.y?-1:targetCenter.y>=originCenter.y?1:-1}const isDebugMenuEnabled=()=>Boolean(function getProcessEnv(){if("undefined"==typeof globalThis)return;const candidate=globalThis.process;return candidate?.env}()?.DEBUG_MENU)||"undefined"!=typeof globalThis&&Boolean(globalThis.__MENU_DEBUG__);class SubmenuCore extends MenuCore{constructor(parent,options,callbacks={}){super({...options,closeOnSelect:options.closeOnSelect??parent.isCloseOnSelectEnabled()},callbacks,parent.getTree(),{parentId:parent.id,parentItemId:options.parentItemId}),Object.defineProperty(this,"autoHighlightOnOpen",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parentItemId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"predictor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"triggerRect",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"panelRect",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"releaseTree",{enumerable:!0,configurable:!0,writable:!0,value:null}),this.parent=parent,this.parentItemId=options.parentItemId,this.predictor=new MousePrediction(this.menuOptions.mousePrediction),this.releaseTree=this.tree.subscribe(this.id,state=>this.syncWithTree(state))}destroy(){this.parent.releasePointerHighlightHold(this.parentItemId),this.releaseTree?.(),this.releaseTree=null,this.predictor.clear(),super.destroy()}close(reason="programmatic"){this.predictor.clear(),this.parent.releasePointerHighlightHold(this.parentItemId),super.close(reason)}setTriggerRect(rect){this.triggerRect=rect}setPanelRect(rect){this.panelRect=rect}recordPointer(point){this.predictor.push(point)}select(id){const shouldCascade=this.menuOptions.closeOnSelect;super.select(id),shouldCascade&&this.closeAncestorChain()}getTriggerProps(){const parentItem=this.parent.getItemProps(this.parentItemId);return{id:`${this.id}-trigger`,role:"button",tabIndex:parentItem.tabIndex,"aria-haspopup":"menu","aria-expanded":this.getSnapshot().open,"aria-controls":`${this.id}-panel`,onPointerEnter:event=>{this.recordPointerFromEvent(event),this.parent.highlight(this.parentItemId),this.keepChainOpen(),this.timers.scheduleOpen(()=>this.open("pointer"))},onPointerLeave:event=>{this.shouldHoldPointer(event)||(this.parent.releasePointerHighlightHold(this.parentItemId),this.timers.scheduleClose(()=>this.close("pointer")))},onClick:event=>{const pointerEvent=event;pointerEvent?.preventDefault?.(),this.open("pointer")},onKeyDown:event=>this.handleNestedTriggerKeydown(event)}}getPanelProps(){const props=super.getPanelProps();return{...props,onPointerEnter:event=>{props.onPointerEnter?.(event),this.recordPointerFromEvent(event),this.keepChainOpen(),this.parent.releasePointerHighlightHold(this.parentItemId)},onPointerLeave:event=>{this.shouldHoldPointer(event)||(this.parent.releasePointerHighlightHold(this.parentItemId),props.onPointerLeave?.(event))}}}getItemProps(id){const props=super.getItemProps(id);return{...props,onPointerEnter:event=>{props.onPointerEnter?.(event),this.recordPointerFromEvent(event)}}}syncWithTree(state){const isOpen=state.openPath.includes(this.id),isActive=state.activePath.includes(this.id);isOpen&&isActive||!this.getSnapshot().open||super.close("programmatic")}closeAncestorChain(){let current=this.parent;for(;current&&current.isCloseOnSelectEnabled();)current.close("programmatic"),current=current instanceof SubmenuCore?current.parent:null}shouldHoldPointer(event){this.recordPointerFromEvent(event);const movingWithinTree=Boolean(event?.meta?.isWithinTree),movingWithinParent=Boolean(movingWithinTree&&event?.meta?.relatedMenuId===this.parent.id&&!event.meta?.enteredChildPanel),leavingToSibling=Boolean(movingWithinTree&&!event?.meta?.enteredChildPanel&&!event?.meta?.isInsidePanel);return!movingWithinParent&&!leavingToSibling&&(event?.meta?.isInsidePanel&&event.meta.relatedMenuId===this.id?(this.keepChainOpen(),!0):(event?.meta?.enteredChildPanel||!!(this.triggerRect&&this.panelRect&&this.predictor.isMovingToward(this.panelRect,this.triggerRect)))&&(this.keepChainOpen(),this.parent.holdPointerHighlight(this.parentItemId),!0))}keepChainOpen(){this.timers.cancelClose(),this.parent.cancelPendingClose()}handleNestedTriggerKeydown(event){if(isDebugMenuEnabled()&&console.log("submenu core keydown",event.key),"ArrowRight"===event.key||"Enter"===event.key||" "===event.key)return event.preventDefault(),this.open("keyboard"),void this.ensureInitialHighlight();"ArrowLeft"===event.key&&(event.preventDefault(),this.close("keyboard"),this.parent.highlight(this.parentItemId))}recordPointerFromEvent(event){event&&null!=event.clientX&&null!=event.clientY&&this.recordPointer({x:event.clientX,y:event.clientY})}}function useMenuController_useMenuController(config){const triggerRef=(0,vue_esm_bundler.KR)(null),panelRef=(0,vue_esm_bundler.KR)(null),anchorRef=(0,vue_esm_bundler.IJ)(null),core=function createCore(config){if("submenu"===config.kind){const parentCore="core"in config.parent?config.parent.core:config.parent;return new SubmenuCore(parentCore,{...config.options,parentItemId:config.parentItemId},config.callbacks)}return new MenuCore(config.options,config.callbacks)}(config),state=(0,vue_esm_bundler.IJ)(core.getSnapshot()),subscription=core.subscribe(next=>{state.value=next});let disposed=!1;const dispose=()=>{disposed||(disposed=!0,subscription.unsubscribe(),core.destroy())},controller={kind:config.kind,id:core.id,core,state,triggerRef,panelRef,anchorRef,open:reason=>core.open(reason),close:reason=>core.close(reason),toggle:()=>core.toggle(),highlight:id=>core.highlight(id),select:id=>core.select(id),setAnchor:rect=>{anchorRef.value=rect},dispose,...createSubmenuAdapters(core)};return(0,vue_esm_bundler.xo)(dispose),controller}function createSubmenuAdapters(core){return core instanceof SubmenuCore?{recordPointer:point=>core.recordPointer(point),setTriggerRect:rect=>core.setTriggerRect(rect),setPanelRect:rect=>core.setPanelRect(rect)}:{}}const _hoisted_1={class:"ui-menu"},UiMenuvue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({__name:"UiMenu",props:{options:{},callbacks:{}},setup(__props,{expose:__expose}){const props=__props,controller=useMenuController_useMenuController({kind:"root",options:props.options,callbacks:props.callbacks});provideMenuProvider({controller});return __expose({controller}),(_ctx,_cache)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("div",_hoisted_1,[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]))}}),UiMenu=UiMenuvue_type_script_setup_true_lang_ts;function resolveRefFunctions(ref){return ref?"function"==typeof ref?[ref]:Array.isArray(ref)?ref.flatMap(resolveRefFunctions):ref&&"object"==typeof ref&&"function"==typeof ref.r?[ref.r]:[]:[]}UiMenuvue_type_script_setup_true_lang_ts.__docgenInfo={exportName:"default",displayName:"UiMenu",description:"",tags:{},expose:[{name:"controller"}],props:[{name:"options",required:!1,type:{name:"MenuOptions"}},{name:"callbacks",required:!1,type:{name:"MenuCallbacks"}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenu.vue"]};const useAsChild=(0,vue_esm_bundler.pM)({name:"UiAsChildRenderer",inheritAttrs:!1,props:{componentLabel:{type:String,required:!0},forwardedProps:{type:Object,required:!0}},setup:(props,{slots})=>()=>{const slotNodes=slots.default?.(),validNodes=extractValidVNodes(slotNodes);if(!validNodes.length)throw new Error(`${props.componentLabel} expects exactly one child`);if(validNodes.length>1)throw new Error(`${props.componentLabel} expects a single root node when using asChild`);const vnode=validNodes[0],forwarded={...(0,vue_esm_bundler.R1)(props.forwardedProps)??{}},forwardedRef=forwarded.ref,forwardedClass=forwarded.class;delete forwarded.ref,delete forwarded.class;const mergedProps=(0,vue_esm_bundler.v6)(vnode.props??{},forwarded),userClass=vnode.props?.class,refFns=[...resolveRefFunctions(vnode.ref),...forwardedRef?resolveRefFunctions(forwardedRef):[]],combinedRef=refFns.length?el=>refFns.forEach(fn=>fn(el)):void 0,dynamic=(0,vue_esm_bundler.E3)(vnode,{...mergedProps,ref:combinedRef});return(forwardedClass||userClass)&&(dynamic.props=dynamic.props??{},dynamic.props.class=(0,vue_esm_bundler.C4)([forwardedClass,userClass])),function demoteHoistedVNode(vnode){-1===vnode.patchFlag&&(vnode.patchFlag=0);vnode.isStatic=!1,vnode.hoisted=void 0}(dynamic),dynamic}});function extractValidVNodes(children){const nodes=Array.isArray(children)?children:[children],result=[];for(const child of nodes)if((0,vue_esm_bundler.vv)(child)&&child.type!==vue_esm_bundler.Mw&&(child.type!==vue_esm_bundler.EY||"string"!=typeof child.children||""!==child.children.trim())){if(child.type===vue_esm_bundler.FK){const fragmentChildren=extractValidVNodes(child.children);result.push(...fragmentChildren);continue}result.push(child)}return result}function toPointerPayload(event,meta={}){return{clientX:event.clientX,clientY:event.clientY,meta,preventDefault:()=>event.preventDefault()}}const isBrowser="undefined"!=typeof window,handlerCache=new WeakMap;function useMenuPointerHandlers(provider){const cached=handlerCache.get(provider);if(cached)return cached;const recordPointer=(event,bridge)=>{bridge?.child.controller.recordPointer?.({x:event.clientX,y:event.clientY}),provider.controller.recordPointer?.({x:event.clientX,y:event.clientY})},buildMeta=event=>{const related=event.relatedTarget instanceof HTMLElement?event.relatedTarget:null;if(!related)return{isInsidePanel:!1,enteredChildPanel:!1,relatedTargetId:null,isWithinTree:!1,relatedMenuId:null};const relation=resolveMenuRelation(related),isSameTree=relation.rootId===provider.rootId,relatedMenuId="trigger"===relation.kind?relation.parentMenuId??relation.menuId:relation.menuId;return{isInsidePanel:provider.controller.panelRef.value?.contains(related)??!1,enteredChildPanel:!!isSameTree&&isDescendant(relation.menuId,provider),relatedTargetId:related.id||null,isWithinTree:isSameTree,relatedMenuId}},handleDocumentPointerDown=event=>{provider.controller.state.value.open&&(function isTargetWithinTree(target,rootId){if(!(target instanceof HTMLElement))return!1;return resolveMenuRelation(target).rootId===rootId}(event.target,provider.rootId)||provider.controller.close("pointer"))};if(isBrowser){const stop=(0,vue_esm_bundler.wB)(()=>provider.controller.state.value.open,open=>{open?window.addEventListener("pointerdown",handleDocumentPointerDown,!0):window.removeEventListener("pointerdown",handleDocumentPointerDown,!0)},{immediate:!0});(0,vue_esm_bundler.xo)(()=>{stop(),window.removeEventListener("pointerdown",handleDocumentPointerDown,!0)})}const api={makeTriggerHandlers:({bindings,bridge})=>({onPointerEnter:event=>{recordPointer(event,bridge),bindings.value.onPointerEnter?.(toPointerPayload(event))},onPointerLeave:event=>{recordPointer(event,bridge),bindings.value.onPointerLeave?.(toPointerPayload(event,buildMeta(event)))}}),makePanelHandlers:({bindings,bridge})=>({onPointerEnter:event=>{recordPointer(event,bridge),bindings.value.onPointerEnter?.(toPointerPayload(event))},onPointerLeave:event=>{recordPointer(event,bridge),bindings.value.onPointerLeave?.(toPointerPayload(event,buildMeta(event)))}})};return handlerCache.set(provider,api),api}function resolveMenuRelation(element){const panel=element?.closest("[data-ui-menu-panel='true']");if(panel)return{kind:"panel",menuId:panel.getAttribute("data-ui-menu-id"),rootId:panel.getAttribute("data-ui-root-menu-id"),parentMenuId:panel.getAttribute("data-ui-parent-menu-id")};const trigger=element?.closest("[data-ui-menu-trigger='true']");return trigger?{kind:"trigger",menuId:trigger.getAttribute("data-ui-menu-id"),rootId:trigger.getAttribute("data-ui-root-menu-id"),parentMenuId:trigger.getAttribute("data-ui-parent-menu-id")}:{kind:null,menuId:null,rootId:null,parentMenuId:null}}function isDescendant(menuId,provider){if(!menuId)return!1;const path=provider.tree.state.value.openPath,index=path.indexOf(provider.controller.id);return-1!==index&&path.slice(index+1).includes(menuId)}function useSubmenuBridge(variant){if("submenu"!==variant)return null;const bridge=useOptionalSubmenuProvider();if(!bridge)throw new Error("Submenu components must be rendered inside <UiSubMenu>");return bridge}const UiMenuBaseTriggervue_type_script_setup_true_lang_ts_hoisted_1={key:0,class:"ui-submenu-arrow"},UiMenuBaseTriggervue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({__name:"UiMenuBaseTrigger",props:{provider:{},variant:{},asChild:{type:Boolean},triggerMode:{},showArrow:{type:Boolean},componentLabel:{}},setup(__props){const stopPropagationKeys=new Set(["ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Home","End","Enter"," ","Space"]),props=__props,el=(0,vue_esm_bundler.KR)(null),triggerMode=(0,vue_esm_bundler.EW)(()=>props.triggerMode?props.triggerMode:"menu"===props.variant?"click":"both"),openOnClick=(0,vue_esm_bundler.EW)(()=>"click"===triggerMode.value||"both"===triggerMode.value),openOnContext=(0,vue_esm_bundler.EW)(()=>"contextmenu"===triggerMode.value||"both"===triggerMode.value),submenuBridge=useSubmenuBridge(props.variant),targetController=submenuBridge?submenuBridge.child.controller:props.provider.controller,parentController=submenuBridge?.parent.controller??props.provider.parentController,submenuItemId=submenuBridge?.child.submenuItemId??props.provider.submenuItemId??null,triggerBindings=(0,vue_esm_bundler.EW)(()=>targetController.core.getTriggerProps()),parentBindings=(0,vue_esm_bundler.EW)(()=>"submenu"===props.variant&&parentController&&submenuItemId?(parentController.state.value,parentController.core.getItemProps(submenuItemId)):null),triggerPointer=useMenuPointerHandlers(props.provider).makeTriggerHandlers({bindings:triggerBindings,bridge:submenuBridge}),disposeSubmenuLifecycle=function setupSubmenuLifecycle(options){if(!options.isSubmenu||!options.parentController||!options.submenuItemId)return()=>{};const unregister=options.parentController.core.registerItem(options.submenuItemId),stopWatch=(0,vue_esm_bundler.wB)(()=>options.parentController?.state.value.activeItemId,activeId=>{activeId===options.submenuItemId&&options.triggerRef.value?.focus({preventScroll:!0})},{flush:"sync"});return()=>{unregister?.(),stopWatch()}}({isSubmenu:"submenu"===props.variant,parentController,submenuItemId,triggerRef:el});function bind(element){const target=function resolveElement(element){if(!element)return null;if(element instanceof HTMLElement)return element;if(element?.$el instanceof HTMLElement)return element.$el;return null}(element);el.value=target,props.provider.controller.triggerRef.value=target}(0,vue_esm_bundler.xo)(()=>{disposeSubmenuLifecycle(),props.provider.controller.triggerRef.value===el.value&&(props.provider.controller.triggerRef.value=null)});const elementBindings=(0,vue_esm_bundler.EW)(()=>function createElementBindings(variant,triggerBindings,parentBindings){const base=triggerBindings.value;if("submenu"!==variant||!parentBindings.value)return{id:base.id,role:base.role,tabIndex:base.tabIndex,dataState:void 0,ariaDisabled:void 0,ariaHaspopup:base["aria-haspopup"],ariaExpanded:base["aria-expanded"],ariaControls:base["aria-controls"]};return{id:parentBindings.value.id,role:parentBindings.value.role,tabIndex:parentBindings.value.tabIndex,dataState:parentBindings.value["data-state"],ariaDisabled:parentBindings.value["aria-disabled"],ariaHaspopup:base["aria-haspopup"],ariaExpanded:base["aria-expanded"],ariaControls:base["aria-controls"]}}(props.variant,triggerBindings,parentBindings)),eventHandlers=function createTriggerEventHandlers(options){const ancestorBridge=options.submenuBridge?.parentSubmenu??null;let longPressTimer=null,longPressOrigin=null;const resetAnchor=()=>options.provider.controller.setAnchor(null),setAnchorFromEvent=event=>{options.provider.controller.setAnchor({x:event.clientX,y:event.clientY,width:0,height:0})},shouldHandleLongPress=event=>"menu"===options.variant&&options.openOnContext.value&&"touch"===event.pointerType,clearLongPress=()=>{longPressTimer&&(clearTimeout(longPressTimer),longPressTimer=null),longPressOrigin=null},cancelIfPointerMoved=event=>{if(!longPressOrigin)return;const dx=event.clientX-longPressOrigin.x,dy=event.clientY-longPressOrigin.y;dx*dx+dy*dy>144&&clearLongPress()},handleContextMenu=event=>{if("menu"!==options.variant)return options.targetController.recordPointer?.({x:event.clientX,y:event.clientY}),void options.triggerBindings.value.onClick?.(event);if(options.openOnContext.value){if(event.preventDefault(),options.provider.controller.state.value.open)return options.provider.controller.close("pointer"),void requestAnimationFrame(()=>{setAnchorFromEvent(event),options.provider.controller.open("pointer")});setAnchorFromEvent(event),options.provider.controller.open("pointer")}};return{handleClick:event=>{("menu"!==options.variant||options.openOnClick.value)&&(options.targetController.recordPointer?.({x:event.clientX,y:event.clientY}),"menu"===options.variant&&resetAnchor(),options.triggerBindings.value.onClick?.(event))},handleContextMenu,handleKeydown:event=>{if("menu"===options.variant&&resetAnchor(),"submenu"===options.variant&&"ArrowLeft"===event.key&&!options.targetController.state.value.open&&ancestorBridge)return event.preventDefault(),ancestorBridge.child.controller.close("keyboard"),ancestorBridge.parent.controller.highlight(ancestorBridge.child.submenuItemId??null),void ancestorBridge.child.controller.triggerRef.value?.focus({preventScroll:!0});stopPropagationKeys.has(event.key)&&event.stopPropagation(),"submenu"===options.variant&&options.parentBindings.value&&options.parentBindings.value.onKeyDown?.(event),options.triggerBindings.value.onKeyDown?.(event)},handlePointerEnter:event=>{"submenu"===options.variant&&options.parentBindings.value&&options.parentBindings.value.onPointerEnter?.(event),options.pointer.onPointerEnter(event)},handlePointerLeave:event=>{options.pointer.onPointerLeave(event)},handlePointerDown:event=>{shouldHandleLongPress(event)?(event.preventDefault(),(event=>{clearLongPress(),longPressOrigin={x:event.clientX,y:event.clientY},longPressTimer=setTimeout(()=>{longPressTimer=null,longPressOrigin=null,handleContextMenu(event)},450)})(event)):clearLongPress()},handlePointerMove:event=>{shouldHandleLongPress(event)&&cancelIfPointerMoved(event)},handlePointerUp:event=>{shouldHandleLongPress(event)&&cancelIfPointerMoved(event),clearLongPress()},handlePointerCancel:()=>{clearLongPress()}}}({variant:props.variant,provider:props.provider,targetController,triggerBindings,parentBindings,pointer:triggerPointer,openOnClick,openOnContext,submenuBridge}),triggerProps=(0,vue_esm_bundler.EW)(()=>({class:"submenu"===props.variant?"ui-submenu-trigger":"ui-menu-trigger",id:elementBindings.value.id,role:elementBindings.value.role,tabindex:elementBindings.value.tabIndex,"data-state":elementBindings.value.dataState,"aria-disabled":elementBindings.value.ariaDisabled,"aria-haspopup":elementBindings.value.ariaHaspopup,"aria-expanded":elementBindings.value.ariaExpanded,"aria-controls":elementBindings.value.ariaControls,"data-ui-menu-trigger":"true","data-ui-menu-id":targetController.id,"data-ui-root-menu-id":props.provider.rootId,"data-ui-parent-menu-id":parentController?.id??null,onPointerenter:"submenu"===props.variant?eventHandlers.handlePointerEnter:void 0,onPointerleave:"submenu"===props.variant?eventHandlers.handlePointerLeave:void 0,onPointerdown:"menu"===props.variant?eventHandlers.handlePointerDown:void 0,onPointerup:"menu"===props.variant?eventHandlers.handlePointerUp:void 0,onPointercancel:"menu"===props.variant?eventHandlers.handlePointerCancel:void 0,onPointermove:"menu"===props.variant?eventHandlers.handlePointerMove:void 0,onClick:"menu"===props.variant?openOnClick.value?eventHandlers.handleClick:void 0:eventHandlers.handleClick,onContextmenu:"menu"===props.variant&&openOnContext.value?eventHandlers.handleContextMenu:void 0,onKeydown:eventHandlers.handleKeydown})),asChildBindings=(0,vue_esm_bundler.EW)(()=>{const{class:_class,...rest}=triggerProps.value;return{...rest,ref:bind}});return(_ctx,_cache)=>props.asChild?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(useAsChild),{key:0,"component-label":props.componentLabel,"forwarded-props":asChildBindings.value},{default:(0,vue_esm_bundler.k6)(()=>[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]),_:3},8,["component-label","forwarded-props"])):((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("button",(0,vue_esm_bundler.v6)({key:1,type:"button",ref:bind},triggerProps.value),[(0,vue_esm_bundler.RG)(_ctx.$slots,"default"),"submenu"===props.variant||props.showArrow?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("span",UiMenuBaseTriggervue_type_script_setup_true_lang_ts_hoisted_1,"")):(0,vue_esm_bundler.Q3)("",!0)],16))}}),UiMenuBaseTrigger=UiMenuBaseTriggervue_type_script_setup_true_lang_ts;UiMenuBaseTriggervue_type_script_setup_true_lang_ts.__docgenInfo={exportName:"default",displayName:"UiMenuBaseTrigger",description:"",tags:{},props:[{name:"provider",required:!0,type:{name:"MenuProviderValue"}},{name:"variant",required:!0,type:{name:"union",elements:[{name:'"menu"'},{name:'"submenu"'}]}},{name:"asChild",required:!1,type:{name:"boolean"}},{name:"triggerMode",required:!1,type:{name:"TriggerMode"}},{name:"showArrow",required:!1,type:{name:"boolean"}},{name:"componentLabel",required:!0,type:{name:"string"}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuBaseTrigger.vue"]};const UiMenuTriggervue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({__name:"UiMenuTrigger",props:{asChild:{type:Boolean},trigger:{}},setup(__props){const props=__props,provider=context_useMenuProvider();return(_ctx,_cache)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)(UiMenuBaseTrigger,{provider:(0,vue_esm_bundler.R1)(provider),variant:"menu","as-child":props.asChild,"trigger-mode":props.trigger,"component-label":"UiMenuTrigger"},{default:(0,vue_esm_bundler.k6)(()=>[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]),_:3},8,["provider","as-child","trigger-mode"]))}}),UiMenuTrigger=UiMenuTriggervue_type_script_setup_true_lang_ts;UiMenuTriggervue_type_script_setup_true_lang_ts.__docgenInfo={exportName:"default",displayName:"UiMenuTrigger",description:"",tags:{},props:[{name:"asChild",required:!1,type:{name:"boolean"}},{name:"trigger",required:!1,type:{name:"union",elements:[{name:'"click"'},{name:'"contextmenu"'},{name:'"both"'}]}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuTrigger.vue"]};function getFocusableElements(container,options={}){if(!container||!isBrowserEnvironment())return[];const selector=options.selector??'a[href], button:not([disabled]), textarea:not([disabled]), input:not([disabled]), select:not([disabled]), [tabindex]:not([tabindex="-1"])',sentinelClass=options.sentinelClassName??"focus-sentinel",includeSentinels=options.includeSentinels??!1,includeDisabled=options.includeDisabled??!1;return Array.from(container.querySelectorAll(selector)).filter(element=>!(!includeSentinels&&element.classList.contains(sentinelClass))&&(!(!includeDisabled&&"true"===element.getAttribute("aria-disabled"))&&(!(!includeDisabled&&function isNaturallyDisabled(element){if("disabled"in element)return Boolean(element.disabled);return!1}(element))&&(-1!==element.tabIndex&&function isElementVisible(element){if(!isBrowserEnvironment())return!0;if(null===element.offsetParent&&element!==document.activeElement)return!1;const style=window.getComputedStyle(element);return"hidden"!==style.visibility&&"none"!==style.display}(element)))))}function isBrowserEnvironment(){return"undefined"!=typeof window&&"undefined"!=typeof document}function useMenuFocus(panelRef){const focusWithin=edge=>{if(!panelRef.value)return;const items=getFocusableElements(panelRef.value,{selector:"[role='menuitem']"});!function focusEdge(container,edge,options={}){const focusables=options.focusables??getFocusableElements(container);if(!focusables.length)return void(!1!==options.fallbackToContainer&&container.focus());const target="start"===edge?focusables[0]:focusables[focusables.length-1];target?.focus()}(panelRef.value,edge,{focusables:items,fallbackToContainer:!0})};return{focusFirst:()=>focusWithin("start"),focusLast:()=>focusWithin("end")}}function toRect(el){if(!el)return null;const rect=el.getBoundingClientRect();return{x:rect.left,y:rect.top,width:rect.width,height:rect.height}}function getScrollOffset(axis){return"undefined"==typeof window?0:"x"===axis?window.scrollX??window.pageXOffset??document.documentElement?.scrollLeft??document.body?.scrollLeft??0:window.scrollY??window.pageYOffset??document.documentElement?.scrollTop??document.body?.scrollTop??0}const useMenuPositioning_isBrowser="undefined"!=typeof window;function useMenuPositioning(controller,options){if(!useMenuPositioning_isBrowser)return()=>{};let rafHandle=null,resizeObserver=null;const schedule=()=>{null===rafHandle&&(rafHandle=window.requestAnimationFrame(()=>{rafHandle=null,update()}))},update=()=>{if(!controller.state.value.open)return;const panelEl=controller.panelRef.value;if(!panelEl)return;const anchorRect=controller.anchorRef.value??toRect(controller.triggerRef.value),panelRect=toRect(panelEl);if(!anchorRect||!panelRect)return;const gutter=options?.gutter??6,viewportPadding=options?.viewportPadding??8,placement=function resolvePreferredPlacement(preferred,anchor,panel,viewportWidth,viewportHeight,gutter,viewportPadding){const basePreference=preferred&&"auto"!==preferred?preferred:"auto";if(("right"===basePreference||"left"===basePreference)&&"auto"===preferred){return availableHorizontalSpace("right",anchor,viewportWidth,gutter,viewportPadding)>=availableHorizontalSpace("left",anchor,viewportWidth,gutter,viewportPadding)?"right":"left"}if(!preferred||"auto"===preferred)return"auto";if("left"===preferred||"right"===preferred)return function chooseHorizontalPlacement(preferred,anchor,panel,viewportWidth,viewportHeight,gutter,viewportPadding){const opposite="left"===preferred?"right":"left",preferredSpace=availableHorizontalSpace(preferred,anchor,viewportWidth,gutter,viewportPadding);if(preferredSpace>=panel.width)return preferred;const oppositeSpace=availableHorizontalSpace(opposite,anchor,viewportWidth,gutter,viewportPadding);if(oppositeSpace>=panel.width)return opposite;const belowSpace=availableVerticalSpace("bottom",anchor,viewportHeight,gutter,viewportPadding),aboveSpace=availableVerticalSpace("top",anchor,viewportHeight,gutter,viewportPadding);if(belowSpace>=panel.height||aboveSpace>=panel.height)return belowSpace>=aboveSpace?"bottom":"top";return preferredSpace>=oppositeSpace?preferred:opposite}(preferred,anchor,panel,viewportWidth,viewportHeight,gutter,viewportPadding);if("top"===preferred||"bottom"===preferred)return function chooseVerticalPlacement(preferred,anchor,panel,viewportHeight,viewportWidth,gutter,viewportPadding){const opposite="top"===preferred?"bottom":"top",preferredSpace=availableVerticalSpace(preferred,anchor,viewportHeight,gutter,viewportPadding);if(preferredSpace>=panel.height)return preferred;const oppositeSpace=availableVerticalSpace(opposite,anchor,viewportHeight,gutter,viewportPadding);if(oppositeSpace>=panel.height)return opposite;const rightSpace=availableHorizontalSpace("right",anchor,viewportWidth,gutter,viewportPadding),leftSpace=availableHorizontalSpace("left",anchor,viewportWidth,gutter,viewportPadding);if(rightSpace>=panel.width||leftSpace>=panel.width)return rightSpace>=leftSpace?"right":"left";return preferredSpace>=oppositeSpace?preferred:opposite}(preferred,anchor,panel,viewportHeight,viewportWidth,gutter,viewportPadding);return preferred}(options?.placement,anchorRect,panelRect,window.innerWidth,window.innerHeight,gutter,viewportPadding),position=controller.core.computePosition(anchorRect,panelRect,{viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,placement,align:options?.align,gutter,viewportPadding});!function assignPanelPosition(el,rect){if(!el)return;const scrollLeft=getScrollOffset("x"),scrollTop=getScrollOffset("y");el.style.left=`${rect.left+scrollLeft}px`,el.style.top=`${rect.top+scrollTop}px`}(panelEl,position),options?.afterUpdate?.(position)},observe=el=>{resizeObserver&&el&&resizeObserver.observe(el)},unobserve=el=>{resizeObserver&&el&&resizeObserver.unobserve(el)};"undefined"!=typeof ResizeObserver&&(resizeObserver=new ResizeObserver(schedule),(0,vue_esm_bundler.wB)(()=>controller.triggerRef.value,(next,prev)=>{prev&&unobserve(prev),next&&observe(next)}),(0,vue_esm_bundler.wB)(()=>controller.panelRef.value,(next,prev)=>{prev&&unobserve(prev),next&&observe(next)}));const handleScroll=()=>schedule();return(0,vue_esm_bundler.sV)(()=>{window.addEventListener("scroll",handleScroll,!0),window.addEventListener("resize",handleScroll)}),(0,vue_esm_bundler.xo)(()=>{null!==rafHandle&&(window.cancelAnimationFrame(rafHandle),rafHandle=null),window.removeEventListener("scroll",handleScroll,!0),window.removeEventListener("resize",handleScroll),resizeObserver?.disconnect()}),(0,vue_esm_bundler.wB)(()=>controller.state.value.open,open=>{open&&(0,vue_esm_bundler.dY)(()=>{schedule()})}),(0,vue_esm_bundler.wB)(()=>controller.anchorRef.value,()=>{controller.state.value.open&&schedule()}),update}function availableHorizontalSpace(side,anchor,viewportWidth,gutter,viewportPadding){return"right"===side?viewportWidth-viewportPadding-(anchor.x+anchor.width+gutter):anchor.x-viewportPadding-gutter}function availableVerticalSpace(side,anchor,viewportHeight,gutter,viewportPadding){return"bottom"===side?viewportHeight-viewportPadding-(anchor.y+anchor.height+gutter):anchor.y-viewportPadding-gutter}function getDocument(){return"undefined"==typeof document?null:document}const UiMenuBaseContentvue_type_script_setup_true_lang_ts_hoisted_1=["id","data-state","data-side","data-motion","data-ui-root-menu-id","data-ui-menu-id","data-ui-parent-menu-id"],UiMenuBaseContentvue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({inheritAttrs:!1,__name:"UiMenuBaseContent",props:{provider:{},variant:{},teleportTo:{},className:{}},setup(__props){const props=__props,root=(0,vue_esm_bundler.KR)(null),bindings=(0,vue_esm_bundler.EW)(()=>props.provider.controller.core.getPanelProps()),pointerHandlers=useMenuPointerHandlers(props.provider),submenuBridge=useSubmenuBridge(props.variant),panelPointer=pointerHandlers.makePanelHandlers({bindings,bridge:submenuBridge}),focus=useMenuFocus(props.provider.controller.panelRef),lastPlacement=(0,vue_esm_bundler.KR)(null),isOpen=(0,vue_esm_bundler.EW)(()=>props.provider.controller.state.value.open),shouldRender=(0,vue_esm_bundler.KR)(isOpen.value),panelState=(0,vue_esm_bundler.KR)(isOpen.value?"open":"closed"),resolvedSide=(0,vue_esm_bundler.EW)(()=>lastPlacement.value??("submenu"===props.variant?"right":"bottom")),resolvedMotion=(0,vue_esm_bundler.EW)(()=>function motionFromSide(side){switch(side){case"top":return"from-top";case"left":return"from-left";case"right":return"from-right";default:return"from-bottom"}}(resolvedSide.value)),attrs=(0,vue_esm_bundler.OA)(),syncSubmenuGeometry=()=>{if("submenu"!==props.variant||!submenuBridge)return;const triggerRect=toRect(submenuBridge.parent.controller.triggerRef.value);props.provider.controller.setTriggerRect?.(triggerRect??null);const panelRect=toRect(root.value);props.provider.controller.setPanelRect?.(panelRect??null)},preferredPlacement="submenu"===props.variant?"right":"bottom",updatePosition=useMenuPositioning(props.provider.controller,{placement:preferredPlacement,afterUpdate:position=>{lastPlacement.value=position.placement,syncSubmenuGeometry()}}),teleportTarget=(0,vue_esm_bundler.EW)(()=>props.teleportTo??function getMenuOverlayHost(){return function ensureOverlayHost(options={}){const doc=options.document??getDocument();if(!doc)return null;const id=options.id??"affino-overlay-host",attribute=options.attribute??"data-affino-overlay-host";let host=doc.getElementById(id);return host||(host=doc.createElement("div"),host.id=id,host.setAttribute(attribute,"true"),doc.body?.appendChild(host)),host}({id:"affino-menu-host",attribute:"data-affino-menu-host"})}()??"body"),parentMenuId=props.provider.parentController?.id??"",refreshGeometry=()=>{syncSubmenuGeometry(),updatePosition()};function handlePointerEnter(event){panelPointer.onPointerEnter(event)}function handlePointerLeave(event){"submenu"===props.variant&&panelPointer.onPointerLeave(event)}function handleKeydown(event){if("Tab"===event.key)return event.preventDefault(),"submenu"===props.variant?void(event.shiftKey?focus.focusLast():focus.focusFirst()):(props.provider.controller.close("keyboard"),props.provider.controller.setAnchor(null),void props.provider.controller.triggerRef.value?.focus());bindings.value.onKeyDown?.(event)}return(0,vue_esm_bundler.wB)(isOpen,async open=>{open?(shouldRender.value=!0,panelState.value="closed",await(0,vue_esm_bundler.dY)(),props.provider.controller.panelRef.value=root.value,panelState.value="closed","undefined"!=typeof window?window.requestAnimationFrame(()=>{panelState.value="open"}):panelState.value="open",refreshGeometry(),"submenu"===props.variant?focus.focusFirst():root.value?.focus({preventScroll:!0})):(props.provider.controller.panelRef.value===root.value&&(props.provider.controller.panelRef.value=null,props.provider.controller.setAnchor(null)),panelState.value="closed",shouldRender.value=!1)}),(0,vue_esm_bundler.wB)(()=>props.provider.controller.anchorRef.value,()=>{isOpen.value&&refreshGeometry()}),(0,vue_esm_bundler.sV)(()=>{isOpen.value&&refreshGeometry()}),(0,vue_esm_bundler.xo)(()=>{props.provider.controller.panelRef.value===root.value&&(props.provider.controller.panelRef.value=null)}),(_ctx,_cache)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)(vue_esm_bundler.Im,{to:teleportTarget.value},[shouldRender.value?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("div",(0,vue_esm_bundler.v6)({key:0,ref_key:"root",ref:root,class:props.className??("submenu"===props.variant?"ui-submenu-content":"ui-menu-content"),id:bindings.value.id,role:"menu",tabindex:"-1","data-ui-menu-panel":"true","data-state":panelState.value,"data-side":resolvedSide.value,"data-motion":resolvedMotion.value,"data-ui-root-menu-id":props.provider.rootId,"data-ui-menu-id":props.provider.controller.id,"data-ui-parent-menu-id":(0,vue_esm_bundler.R1)(parentMenuId)},(0,vue_esm_bundler.R1)(attrs),{onPointerenter:handlePointerEnter,onPointerleave:handlePointerLeave,onKeydown:handleKeydown}),[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")],16,UiMenuBaseContentvue_type_script_setup_true_lang_ts_hoisted_1)):(0,vue_esm_bundler.Q3)("",!0)],8,["to"]))}}),UiMenuBaseContent=UiMenuBaseContentvue_type_script_setup_true_lang_ts;UiMenuBaseContentvue_type_script_setup_true_lang_ts.__docgenInfo={exportName:"default",displayName:"UiMenuBaseContent",description:"",tags:{},props:[{name:"provider",required:!0,type:{name:"MenuProviderValue"}},{name:"variant",required:!0,type:{name:"union",elements:[{name:'"menu"'},{name:'"submenu"'}]}},{name:"teleportTo",required:!1,type:{name:"string"}},{name:"className",required:!1,type:{name:"string"}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuBaseContent.vue"]};const UiMenuContentvue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({__name:"UiMenuContent",setup(__props){const provider=context_useMenuProvider();return(_ctx,_cache)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)(UiMenuBaseContent,{provider:(0,vue_esm_bundler.R1)(provider),variant:"menu"},{default:(0,vue_esm_bundler.k6)(()=>[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]),_:3},8,["provider"]))}}),UiMenuContent=UiMenuContentvue_type_script_setup_true_lang_ts;UiMenuContentvue_type_script_setup_true_lang_ts.__docgenInfo={exportName:"default",displayName:"UiMenuContent",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuContent.vue"]};let counter=0;function uid(prefix="ui-menu"){return counter+=1,`${prefix}-${counter}`}const UiMenuItemvue_type_script_setup_true_lang_ts=(0,vue_esm_bundler.pM)({__name:"UiMenuItem",props:{id:{},disabled:{type:Boolean},danger:{type:Boolean},asChild:{type:Boolean}},emits:["select"],setup(__props,{emit:__emit}){const stopPropagationKeys=new Set(["ArrowDown","ArrowUp","Home","End","Enter"," ","Space"]),props=__props,emit=__emit,provider=context_useMenuProvider(),submenuBridge=useOptionalSubmenuProvider(),itemId=props.id??uid("ui-menu-item"),unregister=provider.controller.core.registerItem(itemId,{disabled:props.disabled});(0,vue_esm_bundler.wB)(()=>props.disabled,value=>{provider.controller.core.registerItem(itemId,{disabled:value})});const bindings=(0,vue_esm_bundler.EW)(()=>(provider.controller.state.value,provider.controller.core.getItemProps(itemId))),el=(0,vue_esm_bundler.KR)(null);function bindElement(element){const target=function resolveElement(element){if(!element)return null;if(element instanceof HTMLElement)return element;if(element.$el instanceof HTMLElement)return element.$el;return null}(element);el.value=target}function handleFocus(){el.value?.scrollIntoView({block:"nearest"})}const isDisabled=(0,vue_esm_bundler.EW)(()=>Boolean(bindings.value["aria-disabled"]));function emitSelect(){emit("select",{id:itemId,controller:provider.controller})}function handleClick(event){isDisabled.value?event.preventDefault():(emitSelect(),bindings.value.onClick?.(event))}function handlePointerEnter(event){bindings.value.onPointerEnter?.(event)}function handleKeydown(event){return isDisabled.value||"Enter"!==event.key&&" "!==event.key&&"Space"!==event.key?submenuBridge&&"ArrowLeft"===event.key?(event.preventDefault(),event.stopPropagation(),submenuBridge.child.controller.close("keyboard"),submenuBridge.parent.controller.highlight(submenuBridge.child.submenuItemId??null),void submenuBridge.child.controller.triggerRef.value?.focus({preventScroll:!0})):(stopPropagationKeys.has(event.key)&&event.stopPropagation(),void bindings.value.onKeyDown?.(event)):(emitSelect(),bindings.value.onKeyDown?.(event),void event.preventDefault())}(0,vue_esm_bundler.wB)(()=>provider.controller.state.value.activeItemId,activeId=>{activeId!==itemId||isDisabled.value||el.value?.focus({preventScroll:!0})},{flush:"sync"}),(0,vue_esm_bundler.xo)(()=>{unregister()});const itemProps=(0,vue_esm_bundler.EW)(()=>({class:["ui-menu-item",{"is-danger":props.danger}],id:bindings.value.id,role:bindings.value.role,tabindex:bindings.value.tabIndex,"data-state":bindings.value["data-state"],"aria-disabled":bindings.value["aria-disabled"],onFocus:handleFocus,onPointerenter:handlePointerEnter,onClick:handleClick,onKeydown:handleKeydown})),asChildItemProps=(0,vue_esm_bundler.EW)(()=>({...itemProps.value,ref:bindElement}));return(_ctx,_cache)=>props.asChild?((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)((0,vue_esm_bundler.R1)(useAsChild),{key:0,"component-label":"UiMenuItem","forwarded-props":asChildItemProps.value},{default:(0,vue_esm_bundler.k6)(()=>[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]),_:3},8,["forwarded-props"])):((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("div",(0,vue_esm_bundler.v6)({key:1,ref:bindElement},itemProps.value),[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")],16))}}),UiMenuItem=UiMenuItemvue_type_script_setup_true_lang_ts;UiMenuItemvue_type_script_setup_true_lang_ts.__docgenInfo={exportName:"default",displayName:"UiMenuItem",description:"",tags:{},props:[{name:"id",required:!1,type:{name:"string"}},{name:"disabled",required:!1,type:{name:"boolean"}},{name:"danger",required:!1,type:{name:"boolean"}},{name:"asChild",required:!1,type:{name:"boolean"}}],events:[{name:"select",type:{names:["{ id: string; controller: MenuController }"]}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuItem.vue"]};const UiMenuLabelvue_type_template_id_52809080_hoisted_1={class:"ui-menu-label",role:"presentation"};var exportHelper=__webpack_require__("../../node_modules/.pnpm/vue-loader@16.8.3_@vue+compiler-sfc@3.5.25_vue@3.5.25_typescript@5.9.3__webpack@5.104.1_esbuild@0.24.2_/node_modules/vue-loader/dist/exportHelper.js");const script={},UiMenuLabel_exports_=(0,exportHelper.A)(script,[["render",function render(_ctx,_cache){return(0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("div",UiMenuLabelvue_type_template_id_52809080_hoisted_1,[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")])}]]),UiMenuLabel=UiMenuLabel_exports_;UiMenuLabel_exports_.__docgenInfo={displayName:"UiMenuLabel",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuLabel.vue"]};const UiMenuSeparatorvue_type_template_id_ec4b2eb8_hoisted_1={class:"ui-menu-separator",role:"separator"};const UiMenuSeparator_script={},UiMenuSeparator_exports_=(0,exportHelper.A)(UiMenuSeparator_script,[["render",function UiMenuSeparatorvue_type_template_id_ec4b2eb8_render(_ctx,_cache){return(0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.CE)("div",UiMenuSeparatorvue_type_template_id_ec4b2eb8_hoisted_1)}]]),UiMenuSeparator=UiMenuSeparator_exports_;UiMenuSeparator_exports_.__docgenInfo={displayName:"UiMenuSeparator",description:"",tags:{},sourceFiles:["/workspace/packages/menu-vue/src/components/UiMenuSeparator.vue"]};const UiSubMenu_vuedocgen_export_0=(0,vue_esm_bundler.pM)({__name:"UiSubMenu",props:{id:{},options:{},callbacks:{}},setup(__props,{expose:__expose}){const props=__props,parentProvider=context_useMenuProvider(),submenuItemId=props.id??uid("ui-submenu-item"),controller=useMenuController_useMenuController({kind:"submenu",parent:parentProvider.controller,parentItemId:submenuItemId,options:props.options,callbacks:props.callbacks});return function provideSubmenuProvider(value){const inherited=value.parentSubmenu??(0,vue_esm_bundler.WQ)(SUBMENU_PROVIDER_KEY,null),bridge={parent:value.parent,child:value.child,parentSubmenu:inherited};return(0,vue_esm_bundler.Gt)(SUBMENU_PROVIDER_KEY,bridge),bridge}({parent:parentProvider,child:provideMenuProvider({controller,parent:parentProvider,submenuItemId})}),function usePointerRecorder(core){let handler=null;(0,vue_esm_bundler.sV)(()=>{handler=event=>{core.recordPointer({x:event.clientX,y:event.clientY})},window.addEventListener("pointermove",handler)}),(0,vue_esm_bundler.xo)(()=>{handler&&(window.removeEventListener("pointermove",handler),handler=null)})}(controller.core),__expose({controller}),(_ctx,_cache)=>(0,vue_esm_bundler.RG)(_ctx.$slots,"default")}});UiSubMenu_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"UiSubMenu",description:"",tags:{},expose:[{name:"controller"}],props:[{name:"id",required:!1,type:{name:"string"}},{name:"options",required:!1,type:{name:"MenuOptions"}},{name:"callbacks",required:!1,type:{name:"MenuCallbacks"}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiSubMenu.vue"]};const UiSubMenuTrigger_vuedocgen_export_0=(0,vue_esm_bundler.pM)({__name:"UiSubMenuTrigger",props:{asChild:{type:Boolean}},setup(__props){const props=__props,provider=context_useMenuProvider();return(_ctx,_cache)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)(UiMenuBaseTrigger,{provider:(0,vue_esm_bundler.R1)(provider),variant:"submenu","as-child":props.asChild,"component-label":"UiSubMenuTrigger","show-arrow":""},{default:(0,vue_esm_bundler.k6)(()=>[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]),_:3},8,["provider","as-child"]))}});UiSubMenuTrigger_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"UiSubMenuTrigger",description:"",tags:{},props:[{name:"asChild",required:!1,type:{name:"boolean"}}],slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiSubMenuTrigger.vue"]};const UiSubMenuContent_vuedocgen_export_0=(0,vue_esm_bundler.pM)({__name:"UiSubMenuContent",setup(__props){const provider=context_useMenuProvider();return(_ctx,_cache)=>((0,vue_esm_bundler.uX)(),(0,vue_esm_bundler.Wv)(UiMenuBaseContent,{provider:(0,vue_esm_bundler.R1)(provider),variant:"submenu"},{default:(0,vue_esm_bundler.k6)(()=>[(0,vue_esm_bundler.RG)(_ctx.$slots,"default")]),_:3},8,["provider"]))}});UiSubMenuContent_vuedocgen_export_0.__docgenInfo={exportName:"default",displayName:"UiSubMenuContent",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/workspace/packages/menu-vue/src/components/UiSubMenuContent.vue"]};new Map,new Set(["INPUT","TEXTAREA"]);const dialog_menu_stories={title:"Overlays/Dialog Menu",tags:["autodocs"],render:()=>({components:{UiMenu,UiMenuTrigger,UiMenuContent,UiMenuItem,UiMenuSeparator,UiMenuLabel},template:'\n      <div class="story-wrapper">\n        <UiMenu>\n          <UiMenuTrigger as-child>\n            <button type="button" class="surface-chip">Inline actions</button>\n          </UiMenuTrigger>\n          <UiMenuContent class="surface-menu">\n            <UiMenuLabel>Dialog actions</UiMenuLabel>\n            <UiMenuSeparator />\n            <UiMenuItem>Close dialog</UiMenuItem>\n            <UiMenuItem>Duplicate scenario</UiMenuItem>\n            <UiMenuSeparator />\n            <UiMenuItem>Export data</UiMenuItem>\n          </UiMenuContent>\n        </UiMenu>\n      </div>\n    '})},InlineActions={},__namedExportsOrder=["InlineActions"];InlineActions.parameters={...InlineActions.parameters,docs:{...InlineActions.parameters?.docs,source:{originalSource:"{}",...InlineActions.parameters?.docs?.source}}}}}]);