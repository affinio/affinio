@layer components {
    .tooltip-page-hero {
        @apply grid gap-6 rounded-[1.25rem] border border-[var(--panel-border)] bg-[linear-gradient(140deg,rgba(12,20,42,0.92),rgba(8,14,30,0.96))] p-6 lg:grid-cols-[0.95fr_1.1fr] lg:p-8;
    }

    .tooltip-page-hero__content {
        @apply flex flex-col gap-4;
    }

    .tooltip-page-hero__eyebrow {
        @apply m-0 text-xs uppercase tracking-[0.2em] text-[var(--accent-strong)];
    }

    .tooltip-page-hero__content h2 {
        @apply m-0 text-[clamp(1.45rem,3.1vw,2.25rem)] leading-tight text-[var(--text-strong)];
    }

    .tooltip-page-hero__content p {
        @apply m-0 max-w-2xl text-sm leading-relaxed text-[var(--text-soft)];
    }

    .tooltip-page-hero__chips {
        @apply mt-2 flex flex-wrap gap-2;
    }

    .tooltip-page-hero__chip {
        @apply inline-flex items-center rounded-full border border-[var(--panel-border)] bg-white/5 px-3 py-1 text-xs text-[var(--text-soft)];
    }

    .tooltip-page-hero__preview {
        @apply relative flex flex-col gap-4 rounded-[1rem] border border-[#f5cd47]/70 bg-[linear-gradient(150deg,rgba(255,220,120,0.18),rgba(12,18,34,0.92))] p-5 shadow-[0_24px_60px_rgba(0,0,0,0.35)] lg:p-6;
    }

    .tooltip-page-hero__preview h3 {
        @apply m-0 text-lg text-[var(--text-strong)];
    }

    .tooltip-page-hero__preview .tooltip-playground__stage {
        @apply min-h-[220px] border-[var(--panel-border-strong)] bg-[rgba(7,12,25,0.8)];
    }

    .tooltip-page-hero__preview .tooltip-playground__stage [data-affino-tooltip-trigger].tooltip-trigger {
        @apply border-[#e6b91d] bg-[#f5cd47] px-6 py-3 text-base font-semibold text-[#2b2102] shadow-[0_12px_24px_rgba(245,205,71,0.28)] hover:border-[#f7d975] hover:bg-[#f8d86d] hover:text-[#1c1502] focus-visible:outline-amber-300/70;
    }

    .tooltip-page-cases {
        @apply flex flex-col gap-5;
    }

    .tooltip-page-cases__intro {
        @apply rounded-[1rem] border border-[var(--panel-border)] bg-[rgba(8,12,26,0.9)] p-5;
    }

    .tooltip-page-cases__intro h3 {
        @apply m-0 text-[clamp(1.2rem,2vw,1.55rem)] text-[var(--text-strong)];
    }

    .tooltip-page-cases__intro p {
        @apply mb-0 mt-2 max-w-3xl text-sm text-[var(--text-soft)];
    }

    .tooltip-edge-list {
        @apply flex flex-col gap-4;
    }

    .tooltip-edge {
        @apply overflow-hidden rounded-[1rem] border border-[var(--panel-border)] bg-[linear-gradient(145deg,rgba(12,18,38,0.94),rgba(7,12,26,0.96))] shadow-[0_18px_42px_rgba(0,0,0,0.28)] transition-colors duration-200;
    }

    .tooltip-edge[data-affino-disclosure-state="open"] {
        @apply border-[var(--panel-border-strong)];
    }

    .tooltip-edge__summary {
        @apply relative flex w-full cursor-pointer list-none flex-col gap-2 border-0 bg-transparent p-5 pr-14 text-left;
    }

    .tooltip-edge__summary:focus-visible {
        @apply outline outline-2 outline-offset-0 outline-sky-400/60;
    }

    .tooltip-edge__summary::after {
        content: "+";
        @apply absolute right-5 top-5 flex h-8 w-8 items-center justify-center rounded-full border border-[var(--panel-border)] bg-white/5 text-lg text-[var(--text-soft)] transition-transform duration-200;
    }

    .tooltip-edge[data-affino-disclosure-state="open"] .tooltip-edge__summary::after {
        transform: rotate(45deg);
    }

    .tooltip-edge__kicker {
        @apply text-[0.64rem] uppercase tracking-[0.16em] text-[var(--text-muted)];
    }

    .tooltip-edge__title {
        @apply m-0 text-[clamp(1.05rem,1.7vw,1.3rem)] text-[var(--text-strong)];
    }

    .tooltip-edge__title code {
        @apply rounded bg-white/10 px-2 py-0.5 text-[0.92em] text-[var(--text-strong)];
    }

    .tooltip-edge__lead {
        @apply text-sm text-[var(--text-soft)];
    }

    .tooltip-edge__content {
        @apply border-t border-[var(--panel-border)] p-5;
    }

    .tooltip-edge--dock {
        @apply border-l-2 border-l-sky-300/70;
    }

    .tooltip-edge--pulse {
        @apply border-l-2 border-l-emerald-300/70;
    }

    .tooltip-edge--ignored {
        @apply border-l-2 border-l-violet-300/70;
    }

    .tooltip-edge--resize {
        @apply border-l-2 border-l-orange-300/70;
    }

    .tooltip-edge--dialog {
        @apply border-l-2 border-l-rose-300/70;
        overflow: visible;
    }

    .tooltip-edge--dialog .tooltip-edge__content {
        overflow: visible;
    }

    .tooltip-playground {
        @apply flex flex-col gap-6;
    }

    .tooltip-playground__controls {
        @apply flex flex-wrap items-center gap-4 rounded-[0.9rem] border border-[var(--panel-border)] bg-white/5 p-4 text-sm text-[var(--text-soft)];
    }

    .tooltip-control {
        @apply flex flex-col gap-2 text-xs uppercase tracking-[0.2em];
    }

    .tooltip-control .affino-listbox {
        @apply min-w-[180px];
    }

    .tooltip-control .affino-listbox {
        @apply relative;
    }

    .tooltip-control .tooltip-control__listbox--placement {
        @apply min-w-[220px];
    }

    .tooltip-control .affino-listbox__button {
        @apply flex w-full items-center justify-between gap-2 rounded-full border border-[var(--panel-border)] bg-[var(--panel-bg)] px-3 py-2 text-sm normal-case text-[var(--text-strong)] transition-colors duration-150 hover:border-[var(--panel-border-strong)] hover:bg-white/5 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400/60;
    }

    .tooltip-control .affino-listbox__value {
        @apply truncate;
    }

    .tooltip-control [data-affino-listbox-surface] {
        @apply absolute left-0 top-full z-20 mt-2 flex w-full flex-col gap-2 rounded-[0.85rem] border border-[var(--panel-border)] bg-[rgba(4,6,13,0.96)] p-2 text-sm normal-case text-[var(--text-strong)] shadow-[0_16px_40px_rgba(2,6,23,0.4)];
    }

    .tooltip-control [data-affino-listbox-surface],
    .tooltip-control .affino-listbox-option {
        -webkit-tap-highlight-color: transparent;
    }

    .tooltip-control [data-affino-listbox-surface]:focus,
    .tooltip-control [data-affino-listbox-surface]:focus-visible,
    .tooltip-control [data-affino-listbox-surface]:-moz-focusring,
    .tooltip-control .affino-listbox-option:focus,
    .tooltip-control .affino-listbox-option:focus-visible,
    .tooltip-control .affino-listbox-option:-moz-focusring {
        outline: none !important;
        box-shadow: none !important;
    }

    .tooltip-control .affino-listbox__button::-moz-focus-inner {
        border: 0;
    }

    .tooltip-control .affino-listbox-option {
        @apply cursor-pointer rounded-[0.65rem] px-3 py-2 text-[var(--text-soft)] transition-colors duration-150 hover:bg-white/10 hover:text-[var(--text-strong)];
    }

    .tooltip-control .affino-listbox-option.is-selected {
        @apply bg-white/10 text-[var(--text-strong)];
    }

    .tooltip-control--toggle {
        @apply flex-row items-center gap-2 text-sm uppercase tracking-normal;
    }

    .tooltip-control--toggle input {
        @apply h-4 w-4 accent-sky-400;
    }

    .tooltip-playground__stage {
        @apply flex min-h-[160px] items-center justify-center rounded-[1rem] border border-dashed border-[var(--panel-border)] bg-[rgba(5,8,20,0.6)] p-6;
    }

    .tooltip-demo {
        @apply flex flex-col gap-3;
    }

    .tooltip-demo__lead {
        @apply m-0 text-sm text-[var(--text-soft)];
    }

    .tooltip-trigger {
        @apply w-fit rounded-full border border-[var(--panel-border)] bg-white/5 px-4 py-2 text-sm text-[var(--text-strong)] transition-colors duration-150 hover:border-[var(--panel-border-strong)] hover:bg-white/10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-sky-400/60;
    }

    .tooltip-trigger--ghost {
        @apply border-transparent bg-transparent text-[var(--text-soft)] hover:border-[var(--panel-border)] hover:text-[var(--text-strong)];
    }

    .tooltip-surface {
        @apply max-w-[240px] rounded-[0.85rem] border border-[var(--panel-border)] bg-[rgba(4,6,13,0.92)] px-4 py-3 text-[0.85rem] text-[var(--text-soft)] shadow-[0_12px_30px_rgba(2,6,23,0.4)];
    }

    .tooltip-surface--dock {
        @apply flex flex-col gap-1 text-[0.82rem];
    }

    .tooltip-surface--dock strong {
        @apply text-[var(--text-strong)];
    }

    .tooltip-surface--dock span {
        @apply text-[var(--text-soft)];
    }

    .tooltip-dock {
        @apply flex justify-start;
    }

    .tooltip-dock__rail {
        @apply flex w-full max-w-[220px] flex-col gap-3 rounded-[1rem] border border-[var(--panel-border)] bg-[rgba(7,11,24,0.9)] p-3;
    }

    .tooltip-dock__item {
        @apply relative;
    }

    .tooltip-dock__link {
        @apply inline-flex h-12 w-12 items-center justify-center rounded-[0.9rem] border border-transparent text-sm text-[var(--text-soft)] transition-colors duration-150 hover:border-[var(--panel-border)] hover:bg-white/5 hover:text-[var(--text-strong)];
    }

    .tooltip-dock__icon {
        @apply flex h-7 w-7 items-center justify-center rounded-[0.55rem] border border-[var(--panel-border)] bg-white/5 text-xs font-semibold text-[var(--text-strong)];
    }

    .tooltip-dock__sr {
        @apply sr-only;
    }

    .tooltip-pulse {
        @apply flex flex-col gap-4;
    }

    .tooltip-pulse__controls {
        @apply flex flex-wrap items-center gap-3 rounded-[0.9rem] border border-[var(--panel-border)] bg-white/5 p-4;
    }

    .tooltip-pulse__count {
        @apply text-sm text-[var(--text-soft)];
    }

    .tooltip-pulse__stage {
        @apply flex items-center justify-center;
    }

    .tooltip-pulse__poll {
        @apply hidden;
    }

    .tooltip-ignored {
        @apply flex flex-col gap-4;
    }

    .tooltip-ignored__controls {
        @apply flex flex-wrap items-center gap-3 text-sm text-[var(--text-soft)];
    }

    .tooltip-ignored__note code {
        @apply rounded bg-white/10 px-2 py-1 text-xs text-[var(--text-strong)];
    }

    .tooltip-ignored__stage {
        @apply flex items-center justify-center;
    }

    .tooltip-resize {
        @apply flex flex-col gap-4;
    }

    .tooltip-resize__controls {
        @apply flex items-center gap-3;
    }

    .tooltip-resize__stage {
        @apply relative flex w-full flex-row items-center rounded-[0.9rem] border border-[var(--panel-border)] bg-[rgba(5,8,20,0.45)] p-2 transition-all duration-200;
    }

    .tooltip-resize__stage.is-collapsed {
        @apply justify-start pr-10;
    }

    .tooltip-resize__stage.is-expanded {
        @apply justify-end pl-10;
    }

    .tooltip-resize__button {
        @apply max-w-full whitespace-nowrap transition-transform duration-200;
    }

    .tooltip-resize__stage.is-collapsed .tooltip-resize__button {
        @apply -translate-x-0.5;
    }

    .tooltip-resize__stage.is-expanded .tooltip-resize__button {
        @apply translate-x-0.5;
    }

    .tooltip-dialog {
        @apply flex items-center justify-center;
    }

    .tooltip-dialog [data-affino-dialog-overlay],
    [data-affino-dialog-overlay][data-affino-dialog-owner="tooltip-dialog-edge"] {
        position: fixed;
        inset: 0;
        z-index: 1200;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.4);
        padding: 1rem;
        pointer-events: auto;
    }

    [data-affino-dialog-overlay][data-affino-dialog-owner="tooltip-dialog-edge"][data-state="open"],
    [data-affino-dialog-overlay][data-affino-dialog-owner="tooltip-dialog-edge"][data-state="opening"],
    [data-affino-dialog-overlay][data-affino-dialog-owner="tooltip-dialog-edge"][data-state="closing"] {
        display: flex !important;
    }

    [data-affino-dialog-overlay][data-affino-dialog-owner="tooltip-dialog-edge"][hidden] {
        display: none !important;
    }

    .tooltip-dialog [data-affino-dialog-surface],
    [data-affino-dialog-overlay][data-affino-dialog-owner="tooltip-dialog-edge"] [data-affino-dialog-surface] {
        width: 100%;
        max-width: 32rem;
        border-radius: 1rem;
        border: 1px solid var(--panel-border);
        background: var(--panel-bg);
        padding: 1.5rem;
        color: var(--text-soft);
        box-shadow: 0 20px 45px rgba(2, 6, 23, 0.4);
    }

    .tooltip-dialog__surface h4 {
        @apply m-0 text-lg text-[var(--text-strong)];
    }

    .tooltip-dialog__surface p {
        @apply mb-4 mt-2 text-sm;
    }

    .sidebar-listbox__tooltip {
        @apply max-w-[260px] rounded-[0.85rem] border border-[var(--panel-border)] bg-[rgba(4,6,13,0.92)] px-4 py-3 text-[0.85rem] text-[var(--text-soft)];
    }
}
