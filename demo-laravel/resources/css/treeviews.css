@layer components {
    .treeview-page-hero {
        display: grid;
        gap: 1.5rem;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }

    .treeview-page-hero__content {
        display: flex;
        flex-direction: column;
        gap: 0.65rem;
    }

    .treeview-page-hero__eyebrow {
        margin: 0;
        font-size: 0.72rem;
        letter-spacing: 0.28em;
        text-transform: uppercase;
        color: var(--text-muted);
    }

    .treeview-page-hero__content h2 {
        margin: 0;
        font-size: clamp(1.8rem, 3vw, 2.4rem);
        line-height: 1.2;
        color: var(--text-strong);
    }

    .treeview-page-hero__content p {
        margin: 0;
        color: var(--text-soft);
        line-height: 1.55;
    }

    .treeview-page-hero__chips {
        display: flex;
        flex-wrap: wrap;
        gap: 0.55rem;
    }

    .treeview-page-hero__chip {
        border-radius: 999px;
        border: 1px solid var(--panel-border);
        padding: 0.35rem 0.75rem;
        font-size: 0.75rem;
        color: var(--text-soft);
        background: rgba(255, 255, 255, 0.04);
    }

    .treeview-page-hero__preview {
        border-radius: 1.25rem;
        border: 1px solid var(--panel-border);
        background: var(--panel-bg);
        padding: 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.8rem;
    }

    .treeview-page-hero__preview h3 {
        margin: 0;
        font-size: 1rem;
        color: var(--text-strong);
    }

    .treeview-demo__lead {
        margin: 0;
        color: var(--text-soft);
    }

    .treeview-page-cases {
        margin-top: 2rem;
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    .treeview-page-cases__intro h3 {
        margin: 0;
        font-size: 1.2rem;
        color: var(--text-strong);
    }

    .treeview-page-cases__intro p {
        margin: 0.4rem 0 0;
        color: var(--text-soft);
    }

    .treeview-edge-list {
        display: grid;
        gap: 0.9rem;
    }

    .treeview-edge {
        border-radius: 1rem;
        border: 1px solid var(--panel-border);
        background: var(--panel-bg);
        overflow: hidden;
    }

    .treeview-edge__summary {
        width: 100%;
        border: 0;
        background: transparent;
        text-align: left;
        padding: 0.9rem 1rem;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
        cursor: pointer;
    }

    .treeview-edge__kicker {
        font-size: 0.7rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: var(--text-muted);
    }

    .treeview-edge__title {
        font-weight: 700;
        color: var(--text-strong);
    }

    .treeview-edge__lead {
        color: var(--text-soft);
        font-size: 0.9rem;
        line-height: 1.45;
    }

    .treeview-edge__content {
        border-top: 1px solid var(--panel-border);
        padding: 1rem;
    }

    .treeview-playground {
        display: flex;
        flex-direction: column;
        gap: 0.9rem;
    }

    .treeview-playground__actions {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.75rem;
        flex-wrap: wrap;
    }

    .treeview-playground__hint {
        font-size: 0.82rem;
        color: var(--text-muted);
    }

    .treeview-demo,
    .treeview-manual__root {
        --tree-indent: 1.15rem;
        --tree-bg: rgba(10, 14, 25, 0.95);
        --tree-fg: rgba(236, 243, 255, 0.95);
        --tree-border: rgba(203, 231, 255, 0.38);
        --tree-line: rgba(203, 231, 255, 0.34);
        --tree-toggle-bg: rgba(8, 13, 24, 0.98);
        --tree-toggle-border: rgba(203, 231, 255, 0.55);
        --tree-toggle-symbol: rgba(236, 243, 255, 0.94);
        --tree-select-bg: rgba(214, 231, 252, 0.96);
        --tree-select-fg: #09111f;
        --tree-focus: rgba(123, 208, 255, 0.9);
        display: flex;
        flex-direction: column;
        gap: 0;
        padding: 0.55rem 0.55rem 0.6rem;
        border: 1px solid var(--tree-border);
        border-radius: 0;
        background: var(--tree-bg);
        color: var(--tree-fg);
        font-family: "Lucida Console", "Courier New", monospace;
        font-size: 0.95rem;
        line-height: 1.15;
        box-shadow: inset 0 0 0 1px rgba(6, 11, 22, 0.6);
    }

    .treeview-node {
        --tree-level: var(--affino-tree-level, 1);
        --tree-offset: calc((var(--tree-level) - 1) * var(--tree-indent));
        position: relative;
        width: 100%;
        border: 0;
        border-radius: 0;
        background-color: transparent;
        color: inherit;
        text-align: left;
        display: block;
        min-height: 1.35rem;
        margin: 0;
        padding: 0.14rem 0.25rem 0.14rem calc(var(--tree-offset) + 1.35rem);
        cursor: pointer;
        background-image: repeating-linear-gradient(
            to right,
            transparent 0,
            transparent calc(var(--tree-indent) - 1px),
            var(--tree-line) calc(var(--tree-indent) - 1px),
            var(--tree-line) var(--tree-indent)
        );
        background-repeat: no-repeat;
        background-size: var(--tree-offset) 100%;
        background-position: 0 0;
    }

    .treeview-node::before {
        content: "";
        position: absolute;
        left: calc(var(--tree-offset) - 0.58rem);
        top: 50%;
        width: 0.58rem;
        border-top: 1px dotted var(--tree-line);
        transform: translateY(-50%);
    }

    .treeview-node::after {
        content: "";
        position: absolute;
        left: calc(var(--tree-offset) - 0.58rem);
        top: -0.52rem;
        bottom: -0.52rem;
        border-left: 1px dotted var(--tree-line);
    }

    .treeview-node[aria-level="1"]::before,
    .treeview-node[aria-level="1"]::after {
        display: none;
    }

    .treeview-node[data-affino-treeview-last="true"]::after {
        bottom: 50%;
    }

    .treeview-node.is-selected,
    .treeview-node[data-state="selected"] {
        background-color: var(--tree-select-bg);
        color: var(--tree-select-fg);
    }

    .treeview-node:focus-visible,
    .treeview-node[data-state="selected"][aria-selected="true"] {
        outline: 1px dotted var(--tree-focus);
        outline-offset: -1px;
    }

    .treeview-node[data-state="selected"]:focus-visible {
        outline-color: var(--tree-focus);
    }

    .treeview-node__toggle {
        position: absolute;
        left: var(--tree-offset);
        top: 50%;
        transform: translateY(-50%);
        width: 0.86rem;
        height: 0.86rem;
        border-radius: 0;
        border: 1px solid var(--tree-toggle-border);
        display: inline-flex;
        align-items: center;
        justify-content: center;
        background: var(--tree-toggle-bg);
        color: transparent;
        font-size: 0;
        line-height: 1;
    }

    .treeview-node__toggle::before {
        content: "+";
        font-size: 0.74rem;
        line-height: 1;
        color: var(--tree-toggle-symbol);
        font-weight: 700;
    }

    .treeview-node__toggle[data-state="expanded"]::before {
        content: "-";
    }

    .treeview-node__toggle--dot {
        border: 0;
        background: transparent;
    }

    .treeview-node__toggle--dot::before {
        content: "â€¢";
        font-size: 0.75rem;
        line-height: 1;
        color: var(--tree-line);
        font-weight: 400;
    }

    .treeview-node__label {
        display: inline;
        font-weight: 400;
        line-height: 1.2;
    }

    .treeview-node__detail {
        display: none;
    }

    .treeview-meta {
        display: grid;
        gap: 0.6rem;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        margin: 0;
    }

    .treeview-meta dt {
        margin: 0;
        font-size: 0.7rem;
        letter-spacing: 0.2em;
        text-transform: uppercase;
        color: var(--text-muted);
    }

    .treeview-meta dd {
        margin: 0.2rem 0 0;
        color: var(--text-strong);
    }

    .treeview-manual {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .treeview-manual__actions {
        display: flex;
        flex-wrap: wrap;
        gap: 0.45rem;
    }

    .treeview-manual__note {
        margin: 0;
        color: var(--text-soft);
        font-size: 0.88rem;
        line-height: 1.5;
    }

    .treeview-button {
        border-radius: 999px;
        border: 1px solid var(--panel-border-strong);
        background: rgba(255, 255, 255, 0.08);
        color: var(--text-strong);
        font-size: 0.82rem;
        padding: 0.45rem 0.9rem;
    }

    .treeview-button--ghost {
        background: transparent;
        color: var(--text-soft);
    }
}
